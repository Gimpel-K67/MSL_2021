; TASKING C166/ST10 C compiler v8.7r1 Build 775
; options: -e -Id:\programme\tasking\c166 v8.7r1\include -x2 -Bhoeufmknladij -OB
;          -OE -zswitch_tabmem_default -zautobitastruct-4 -zautobita-0 -FSC -A1
;          -zvolatile_union -O0 -g -newerr -s -i0 -Ms
$DEBUG
$NOLOCALS
$EXTEND2
$NOMOD166
$STDNAMES(regsuper10bo.def)
$EXTMAC
$CASE
$NOEXPANDREGBANK
$MODEL(SMALL)
	NAME	GPT1_C
	?SYMB	'gpt1.c',32,80,16
	?SYMB	'',1,82,0
	?SYMB	'80166',0,84,0
	?SYMB	'',0,81,0
	?SYMB	'void',00H,45,1
	?SYMB	'char',080000H,45,2
	?SYMB	'unsigned char',080000H,45,3
	?SYMB	'short',0100000H,45,4
	?SYMB	'unsigned short',0100000H,45,5
	?SYMB	'long',0200000H,45,6
	?SYMB	'unsigned long',0200000H,45,7
	?SYMB	'float',0200000H,45,10
	?SYMB	'double',0400000H,45,11
	?SYMB	'int',0100000H,45,16
	?SYMB	'unsigned int',0100000H,45,18
	?SYMB	'bit',010000H,7,256
	?SYMB	'gpt1.c',0,29,1
	?SYMB	'',0,86,1
; gpt1.c      1	//****************************************************************************
; gpt1.c      2	// @Module        General Purpose Timer Unit (GPT1)
; gpt1.c      3	// @Filename      GPT1.C
; gpt1.c      4	// @Project       DAvE_config.dav
; gpt1.c      5	//----------------------------------------------------------------------------
; gpt1.c      6	// @Controller    Infineon XE167F-96F66
; gpt1.c      7	//
; gpt1.c      8	// @Compiler      Tasking Classic
; gpt1.c      9	//
; gpt1.c     10	// @Codegenerator 2.2
; gpt1.c     11	//
; gpt1.c     12	// @Description   This file contains functions that use the GPT1 module.
; gpt1.c     13	//
; gpt1.c     14	//----------------------------------------------------------------------------
; gpt1.c     15	// @Date          27.09.2021 18:18:20
; gpt1.c     16	//
; gpt1.c     17	//****************************************************************************
; gpt1.c     18	
; gpt1.c     19	// USER CODE BEGIN (GPT1_General,1)
; gpt1.c     20	
; gpt1.c     21	// USER CODE END
; gpt1.c     22	
; gpt1.c     23	
; gpt1.c     24	
; gpt1.c     25	//****************************************************************************
; gpt1.c     26	// @Project Includes
; gpt1.c     27	//****************************************************************************
; gpt1.c     28	
; gpt1.c     29	#include "MAIN.H"
	?SYMB	'MAIN.H',0,29,2
	?SYMB	'',0,86,2
	?SYMB	'XE16xREGS.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'SCS.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'T$2',0,14,257
	?SYMB	'SCS_EXTCLK_F_SYS',0,33,257
	?SYMB	'SCS_EXTCLK_F_OUT',1,33,257
	?SYMB	'SCS_EXTCLK_F_PLL',2,33,257
	?SYMB	'SCS_EXTCLK_F_OSC',3,33,257
	?SYMB	'SCS_EXTCLK_F_WU',4,33,257
	?SYMB	'SCS_EXTCLK_F_TCK',5,33,257
	?SYMB	'SCS_EXTCLK_F_OSC_FL',6,33,257
	?SYMB	'SCS_EXTCLK_F_RTC',8,33,257
	?SYMB	'',16,16,0
	?SYMB	'SCS_EXTCLK_Type',257,13,258
	?SYMB	'',0,86,2
	?SYMB	'IO.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'GPT1.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'GPT2.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'CC2.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'CCU62.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'CCU63.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'',0,86,2
	?SYMB	'ADC0.H',0,29,3
	?SYMB	'',0,86,3
	?SYMB	'ubyte',3,13,259
	?SYMB	'',0,86,2
	?SYMB	'',0,86,1
; gpt1.c     30	
; gpt1.c     31	// USER CODE BEGIN (GPT1_General,2)
; gpt1.c     32	
; gpt1.c     33	// USER CODE END
; gpt1.c     34	
; gpt1.c     35	
; gpt1.c     36	//****************************************************************************
; gpt1.c     37	// @Macros
; gpt1.c     38	//****************************************************************************
; gpt1.c     39	
; gpt1.c     40	// USER CODE BEGIN (GPT1_General,3)
; gpt1.c     41	
; gpt1.c     42	// USER CODE END
; gpt1.c     43	
; gpt1.c     44	
; gpt1.c     45	//****************************************************************************
; gpt1.c     46	// @Defines
; gpt1.c     47	//****************************************************************************
; gpt1.c     48	
; gpt1.c     49	// USER CODE BEGIN (GPT1_General,4)
; gpt1.c     50	
; gpt1.c     51	// USER CODE END
; gpt1.c     52	
; gpt1.c     53	
; gpt1.c     54	//****************************************************************************
; gpt1.c     55	// @Typedefs
; gpt1.c     56	//****************************************************************************
; gpt1.c     57	
; gpt1.c     58	// USER CODE BEGIN (GPT1_General,5)
; gpt1.c     59	
; gpt1.c     60	// USER CODE END
; gpt1.c     61	
; gpt1.c     62	
; gpt1.c     63	//****************************************************************************
; gpt1.c     64	// @Imported Global Variables
; gpt1.c     65	//****************************************************************************
; gpt1.c     66	
; gpt1.c     67	// USER CODE BEGIN (GPT1_General,6)
; gpt1.c     68	
; gpt1.c     69	// USER CODE END
; gpt1.c     70	
; gpt1.c     71	
; gpt1.c     72	//****************************************************************************
; gpt1.c     73	// @Global Variables
; gpt1.c     74	//****************************************************************************
; gpt1.c     75	
; gpt1.c     76	// USER CODE BEGIN (GPT1_General,7)
; gpt1.c     77	
; gpt1.c     78	// USER CODE END
; gpt1.c     79	
; gpt1.c     80	
; gpt1.c     81	//****************************************************************************
; gpt1.c     82	// @External Prototypes
; gpt1.c     83	//****************************************************************************
; gpt1.c     84	
; gpt1.c     85	// USER CODE BEGIN (GPT1_General,8)
; gpt1.c     86	
; gpt1.c     87	// USER CODE END
; gpt1.c     88	
; gpt1.c     89	
; gpt1.c     90	//****************************************************************************
; gpt1.c     91	// @Prototypes Of Local Functions
; gpt1.c     92	//****************************************************************************
; gpt1.c     93	
; gpt1.c     94	// USER CODE BEGIN (GPT1_General,9)
; gpt1.c     95	
; gpt1.c     96	// USER CODE END
; gpt1.c     97	
; gpt1.c     98	
; gpt1.c     99	//****************************************************************************
; gpt1.c    100	// @Function      void GPT1_vInit(void) 
; gpt1.c    101	//
; gpt1.c    102	//----------------------------------------------------------------------------
; gpt1.c    103	// @Description   This is the initialization function of the GPT1 function 
; gpt1.c    104	//                library. It is assumed that the SFRs used by this library 
; gpt1.c    105	//                are in reset state. 
; gpt1.c    106	//
; gpt1.c    107	//----------------------------------------------------------------------------
; gpt1.c    108	// @Returnvalue   None
; gpt1.c    109	//
; gpt1.c    110	//----------------------------------------------------------------------------
; gpt1.c    111	// @Parameters    None
; gpt1.c    112	//
; gpt1.c    113	//----------------------------------------------------------------------------
; gpt1.c    114	// @Date          27.09.2021
; gpt1.c    115	//
; gpt1.c    116	//****************************************************************************
; gpt1.c    117	
; gpt1.c    118	// USER CODE BEGIN (Init,1)
; gpt1.c    119	
; gpt1.c    120	// USER CODE END
; gpt1.c    121	
; gpt1.c    122	void GPT1_vInit(void)
; gpt1.c    123	{
GPT1_1_PR	SECTION	CODE WORD PUBLIC 'CPROGRAM'
	?LINE	123
	PUBLIC	_GPT1_vInit
	?SYMB	'GPT1_vInit',_GPT1_vInit,37,1
	?SYMB	'',123,8,34
	?SYMB	'uword',18,13,261
_GPT1_vInit	PROC	FAR
	?SYMB	'',00H,95,0
; Locals:
; 
; Statics:
; 
; CSEs:
; 
; gpt1.c    124	  // USER CODE BEGIN (Init,2)
; gpt1.c    125	
; gpt1.c    126	  // USER CODE END
; gpt1.c    127	  ///  -----------------------------------------------------------------------
; gpt1.c    128	  ///  Configuration of Timer Block Prescaler 1:
; gpt1.c    129	  ///  -----------------------------------------------------------------------
; gpt1.c    130	  GPT12E_KSCCFG  =  0x0003;      // Module Enable
	?LINE	130
	MOV	R12,#03h
	MOV	0FE1Ch,R12
; gpt1.c    131	
; gpt1.c    132	  _nop();  // one cycle delay 
	?LINE	132
	NOP
; gpt1.c    133	
; gpt1.c    134	  _nop();  // one cycle delay 
	?LINE	134
	NOP
; gpt1.c    135	
; gpt1.c    136	
; gpt1.c    137	
; gpt1.c    138	  ///  -----------------------------------------------------------------------
; gpt1.c    139	  ///  Configuration of Timer Block Prescaler 1:
; gpt1.c    140	  ///  -----------------------------------------------------------------------
; gpt1.c    141	  ///  - prescaler for timer block 1 is 4
; gpt1.c    142	
; gpt1.c    143	
; gpt1.c    144	  ///  -----------------------------------------------------------------------
; gpt1.c    145	  ///  Configuration of the GPT1 Core Timer 3:
; gpt1.c    146	  ///  -----------------------------------------------------------------------
; gpt1.c    147	  ///  - timer 3 works in timer mode
; gpt1.c    148	  ///  - external up/down control is disabled
; gpt1.c    149	  ///  - prescaler factor is 4
; gpt1.c    150	  ///  - up/down control bit is reset
; gpt1.c    151	  ///  - alternate output function T3OUT (P7.0) is disabled
; gpt1.c    152	  ///  - timer 3 output toggle latch (T3OTL) is set to 0
; gpt1.c    153	  ///  - timer 3 run bit is reset
; gpt1.c    154	
; gpt1.c    155	  GPT12E_T3CON   =  0x0800;      // load timer 3 control register
	?LINE	155
	MOV	R12,#0800h
	MOV	0FF42h,R12
; gpt1.c    156	  GPT12E_T3      =  0x0000;      // load timer 3 register
	?LINE	156
	MOV	R12,#00h
	MOV	0FE42h,R12
; gpt1.c    157	  ///  - prescaler for timer block 1 is 4
; gpt1.c    158	
; gpt1.c    159	  ///  -----------------------------------------------------------------------
; gpt1.c    160	  ///  Configuration of the GPT1 Auxiliary Timer 2:
; gpt1.c    161	  ///  -----------------------------------------------------------------------
; gpt1.c    162	  ///  - timer 2 works in timer mode
; gpt1.c    163	  ///  - external up/down control is disabled
; gpt1.c    164	  ///  - prescaler factor is 4
; gpt1.c    165	  ///  - up/down control bit is reset
; gpt1.c    166	  ///  - timer 2 run bit is reset
; gpt1.c    167	
; gpt1.c    168	  GPT12E_T2CON   =  0x0000;      // load timer 2 control register
	?LINE	168
	MOV	R12,#00h
	MOV	0FF40h,R12
; gpt1.c    169	  GPT12E_T2      =  0x0000;      // load timer 2 register
	?LINE	169
	MOV	R12,#00h
	MOV	0FE40h,R12
; gpt1.c    170	  ///  - prescaler for timer block 1 is 4
; gpt1.c    171	
; gpt1.c    172	  ///  -----------------------------------------------------------------------
; gpt1.c    173	  ///  Configuration of the GPT1 Auxiliary Timer 4:
; gpt1.c    174	  ///  -----------------------------------------------------------------------
; gpt1.c    175	  ///  - timer 4 works in timer mode
; gpt1.c    176	  ///  - external up/down control is disabled
; gpt1.c    177	  ///  - prescaler factor is 4
; gpt1.c    178	  ///  - up/down control bit is reset
; gpt1.c    179	  ///  - timer 4 run bit is reset
; gpt1.c    180	
; gpt1.c    181	  GPT12E_T4CON   =  0x0000;      // load timer 4 control register
	?LINE	181
	MOV	R12,#00h
	MOV	0FF44h,R12
; gpt1.c    182	  GPT12E_T4      =  0x0000;      // load timer 4 register
	?LINE	182
	MOV	R12,#00h
	MOV	0FE44h,R12
; gpt1.c    183	  ///  - prescaler for timer block 1 is 4
; gpt1.c    184	
; gpt1.c    185	  ///  -----------------------------------------------------------------------
; gpt1.c    186	  ///  Configuration of the used GPT1 Port Pins:
; gpt1.c    187	  ///  -----------------------------------------------------------------------
; gpt1.c    188	
; gpt1.c    189	
; gpt1.c    190	  ///  -----------------------------------------------------------------------
; gpt1.c    191	  ///  Configuration of the used GPT1 Interrupts:
; gpt1.c    192	  ///  -----------------------------------------------------------------------
; gpt1.c    193	
; gpt1.c    194	  // USER CODE BEGIN (GPT1_Function,3)
; gpt1.c    195	
; gpt1.c    196	  // USER CODE END
; gpt1.c    197	
; gpt1.c    198	} //  End of function GPT1_viTmr4
	?LINE	198
	RETS
_GPT1_vInit	ENDP
	?SYMB	'',$,17,198
; gpt1.c    199	
; gpt1.c    200	
; gpt1.c    201	
; gpt1.c    202	
; gpt1.c    203	// USER CODE BEGIN (GPT1_General,10)
; gpt1.c    204	
; gpt1.c    205	// USER CODE END
; gpt1.c    206	
GPT1_1_PR	ENDS

	REGDEF	R0-R15
	END
