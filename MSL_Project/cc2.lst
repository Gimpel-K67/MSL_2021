TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   1
cc2

 LOC CODE        LINE   SOURCELINE

                     1   ; TASKING C166/ST10 C compiler v8.7r1 Build 775
                     2   ; options: -e -Id:\programme\tasking\c166 v8.7r1\include -x2 -Bhoeufmknladij -OB
                     3   ;          -OE -zswitch_tabmem_default -zautobitastruct-4 -zautobita-0 -FSC -A1
                     4   ;          -zvolatile_union -O0 -g -newerr -s -i0 -Ms
                     5   $DEBUG
                     6   $NOLOCALS
                     7   $EXTEND2
                     8   $NOMOD166
                     9   $STDNAMES(regsuper10bo.def)
                    10   $EXTMAC
                    11   $CASE
                    12   $NOEXPANDREGBANK
                    13   $MODEL(SMALL)
                    14           NAME    CC2_C
                    15           ?SYMB   'cc2.c',32,80,16
                    16           ?SYMB   '',1,82,0
                    17           ?SYMB   '80166',0,84,0
                    18           ?SYMB   '',0,81,0
                    19           ?SYMB   'void',00H,45,1
                    20           ?SYMB   'char',080000H,45,2
                    21           ?SYMB   'unsigned char',080000H,45,3
                    22           ?SYMB   'short',0100000H,45,4
                    23           ?SYMB   'unsigned short',0100000H,45,5
                    24           ?SYMB   'long',0200000H,45,6
                    25           ?SYMB   'unsigned long',0200000H,45,7
                    26           ?SYMB   'float',0200000H,45,10
                    27           ?SYMB   'double',0400000H,45,11
                    28           ?SYMB   'int',0100000H,45,16
                    29           ?SYMB   'unsigned int',0100000H,45,18
                    30           ?SYMB   'bit',010000H,7,256
                    31           ?SYMB   'cc2.c',0,29,1
                    32           ?SYMB   '',0,86,1
                    33   ; cc2.c       1 //****************************************************************************
                    34   ; cc2.c       2 // @Module        Capture / Compare Unit 2 (CAPCOM2)
                    35   ; cc2.c       3 // @Filename      CC2.C
                    36   ; cc2.c       4 // @Project       DAvE_config.dav
                    37   ; cc2.c       5 //----------------------------------------------------------------------------
                    38   ; cc2.c       6 // @Controller    Infineon XE167F-96F66
                    39   ; cc2.c       7 //
                    40   ; cc2.c       8 // @Compiler      Tasking Classic
                    41   ; cc2.c       9 //
                    42   ; cc2.c      10 // @Codegenerator 2.2
                    43   ; cc2.c      11 //
                    44   ; cc2.c      12 // @Description   This file contains functions that use the CC2 module.
                    45   ; cc2.c      13 //
                    46   ; cc2.c      14 //----------------------------------------------------------------------------
                    47   ; cc2.c      15 // @Date          27.09.2021 18:18:20
                    48   ; cc2.c      16 //
                    49   ; cc2.c      17 //****************************************************************************
                    50   ; cc2.c      18 
                    51   ; cc2.c      19 // USER CODE BEGIN (CC2_General,1)
                    52   ; cc2.c      20 
                    53   ; cc2.c      21 // USER CODE END
                    54   ; cc2.c      22 
                    55   ; cc2.c      23 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   2
cc2

 LOC CODE        LINE   SOURCELINE

                    56   ; cc2.c      24 
                    57   ; cc2.c      25 //****************************************************************************
                    58   ; cc2.c      26 // @Project Includes
                    59   ; cc2.c      27 //****************************************************************************
                    60   ; cc2.c      28 
                    61   ; cc2.c      29 #include "MAIN.H"
                    62           ?SYMB   'MAIN.H',0,29,2
                    63           ?SYMB   '',0,86,2
                    64           ?SYMB   'XE16xREGS.H',0,29,3
                    65           ?SYMB   '',0,86,3
                    66           ?SYMB   '',0,86,2
                    67           ?SYMB   'SCS.H',0,29,3
                    68           ?SYMB   '',0,86,3
                    69           ?SYMB   'T$2',0,14,257
                    70           ?SYMB   'SCS_EXTCLK_F_SYS',0,33,257
                    71           ?SYMB   'SCS_EXTCLK_F_OUT',1,33,257
                    72           ?SYMB   'SCS_EXTCLK_F_PLL',2,33,257
                    73           ?SYMB   'SCS_EXTCLK_F_OSC',3,33,257
                    74           ?SYMB   'SCS_EXTCLK_F_WU',4,33,257
                    75           ?SYMB   'SCS_EXTCLK_F_TCK',5,33,257
                    76           ?SYMB   'SCS_EXTCLK_F_OSC_FL',6,33,257
                    77           ?SYMB   'SCS_EXTCLK_F_RTC',8,33,257
                    78           ?SYMB   '',16,16,0
                    79           ?SYMB   'SCS_EXTCLK_Type',257,13,258
                    80           ?SYMB   '',0,86,2
                    81           ?SYMB   'IO.H',0,29,3
                    82           ?SYMB   '',0,86,3
                    83           ?SYMB   '',0,86,2
                    84           ?SYMB   'GPT1.H',0,29,3
                    85           ?SYMB   '',0,86,3
                    86           ?SYMB   '',0,86,2
                    87           ?SYMB   'GPT2.H',0,29,3
                    88           ?SYMB   '',0,86,3
                    89           ?SYMB   '',0,86,2
                    90           ?SYMB   'CC2.H',0,29,3
                    91           ?SYMB   '',0,86,3
                    92           ?SYMB   '',0,86,2
                    93           ?SYMB   'CCU62.H',0,29,3
                    94           ?SYMB   '',0,86,3
                    95           ?SYMB   '',0,86,2
                    96           ?SYMB   'CCU63.H',0,29,3
                    97           ?SYMB   '',0,86,3
                    98           ?SYMB   '',0,86,2
                    99           ?SYMB   'ADC0.H',0,29,3
                   100           ?SYMB   '',0,86,3
                   101           ?SYMB   'ubyte',3,13,259
                   102           ?SYMB   '',0,86,2
                   103           ?SYMB   '',0,86,1
                   104   ; cc2.c      30 
                   105   ; cc2.c      31 // USER CODE BEGIN (CC2_General,2)
                   106   ; cc2.c      32 
                   107   ; cc2.c      33 // USER CODE END
                   108   ; cc2.c      34 
                   109   ; cc2.c      35 
                   110   ; cc2.c      36 //****************************************************************************
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   3
cc2

 LOC CODE        LINE   SOURCELINE

                   111   ; cc2.c      37 // @Macros
                   112   ; cc2.c      38 //****************************************************************************
                   113   ; cc2.c      39 
                   114   ; cc2.c      40 // USER CODE BEGIN (CC2_General,3)
                   115   ; cc2.c      41 
                   116   ; cc2.c      42 // USER CODE END
                   117   ; cc2.c      43 
                   118   ; cc2.c      44 
                   119   ; cc2.c      45 //****************************************************************************
                   120   ; cc2.c      46 // @Defines
                   121   ; cc2.c      47 //****************************************************************************
                   122   ; cc2.c      48 
                   123   ; cc2.c      49 // USER CODE BEGIN (CC2_General,4)
                   124   ; cc2.c      50 
                   125   ; cc2.c      51 // USER CODE END
                   126   ; cc2.c      52 
                   127   ; cc2.c      53 
                   128   ; cc2.c      54 //****************************************************************************
                   129   ; cc2.c      55 // @Typedefs
                   130   ; cc2.c      56 //****************************************************************************
                   131   ; cc2.c      57 
                   132   ; cc2.c      58 // USER CODE BEGIN (CC2_General,5)
                   133   ; cc2.c      59 
                   134   ; cc2.c      60 // USER CODE END
                   135   ; cc2.c      61 
                   136   ; cc2.c      62 
                   137   ; cc2.c      63 //****************************************************************************
                   138   ; cc2.c      64 // @Imported Global Variables
                   139   ; cc2.c      65 //****************************************************************************
                   140   ; cc2.c      66 
                   141   ; cc2.c      67 // USER CODE BEGIN (CC2_General,6)
                   142   ; cc2.c      68 
                   143   ; cc2.c      69 // USER CODE END
                   144   ; cc2.c      70 
                   145   ; cc2.c      71 
                   146   ; cc2.c      72 //****************************************************************************
                   147   ; cc2.c      73 // @Global Variables
                   148   ; cc2.c      74 //****************************************************************************
                   149   ; cc2.c      75 
                   150   ; cc2.c      76 // USER CODE BEGIN (CC2_General,7)
                   151   ; cc2.c      77 
                   152   ; cc2.c      78 // USER CODE END
                   153   ; cc2.c      79 
                   154   ; cc2.c      80 
                   155   ; cc2.c      81 //****************************************************************************
                   156   ; cc2.c      82 // @External Prototypes
                   157   ; cc2.c      83 //****************************************************************************
                   158   ; cc2.c      84 
                   159   ; cc2.c      85 // USER CODE BEGIN (CC2_General,8)
                   160   ; cc2.c      86 
                   161   ; cc2.c      87 // USER CODE END
                   162   ; cc2.c      88 
                   163   ; cc2.c      89 
                   164   ; cc2.c      90 //****************************************************************************
                   165   ; cc2.c      91 // @Prototypes Of Local Functions
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   4
cc2

 LOC CODE        LINE   SOURCELINE

                   166   ; cc2.c      92 //****************************************************************************
                   167   ; cc2.c      93 
                   168   ; cc2.c      94 // USER CODE BEGIN (CC2_General,9)
                   169   ; cc2.c      95 
                   170   ; cc2.c      96 // USER CODE END
                   171   ; cc2.c      97 
                   172   ; cc2.c      98 
                   173   ; cc2.c      99 //****************************************************************************
                   174   ; cc2.c     100 // @Function      void CC2_vInit(void) 
                   175   ; cc2.c     101 //
                   176   ; cc2.c     102 //----------------------------------------------------------------------------
                   177   ; cc2.c     103 // @Description   This is the initialization function of the CAPCOM2 function 
                   178   ; cc2.c     104 //                library. It is assumed that the SFRs used by this library 
                   179   ; cc2.c     105 //                are in reset state. 
                   180   ; cc2.c     106 //
                   181   ; cc2.c     107 //----------------------------------------------------------------------------
                   182   ; cc2.c     108 // @Returnvalue   None
                   183   ; cc2.c     109 //
                   184   ; cc2.c     110 //----------------------------------------------------------------------------
                   185   ; cc2.c     111 // @Parameters    None
                   186   ; cc2.c     112 //
                   187   ; cc2.c     113 //----------------------------------------------------------------------------
                   188   ; cc2.c     114 // @Date          27.09.2021
                   189   ; cc2.c     115 //
                   190   ; cc2.c     116 //****************************************************************************
                   191   ; cc2.c     117 
                   192   ; cc2.c     118 // USER CODE BEGIN (Init,1)
                   193   ; cc2.c     119 
                   194   ; cc2.c     120 // USER CODE END
                   195   ; cc2.c     121 
                   196   ; cc2.c     122 void CC2_vInit(void)
                   197   ; cc2.c     123 {
                   198   CC2_1_PR        SECTION CODE WORD PUBLIC 'CPROGRAM'
                   199           ?LINE   123
                   200           PUBLIC  _CC2_vInit
               R   201           ?SYMB   'CC2_vInit',_CC2_vInit,37,1
                   202           ?SYMB   '',123,8,34
                   203           ?SYMB   'uword',18,13,261
                   204           ?SYMB   '',010000H,7,262
                   205           ?SYMB   '',010001H,7,263
                   206           ?SYMB   '',010002H,7,264
                   207           ?SYMB   '',010003H,7,265
                   208           ?SYMB   '',010004H,7,266
                   209           ?SYMB   '',010005H,7,267
                   210           ?SYMB   '',010006H,7,268
                   211           ?SYMB   '',010007H,7,269
                   212           ?SYMB   '',010000H,7,270
                   213           ?SYMB   '',010001H,7,271
                   214           ?SYMB   '',010002H,7,272
                   215           ?SYMB   '',010003H,7,273
                   216           ?SYMB   '',010004H,7,274
                   217           ?SYMB   '',010005H,7,275
                   218           ?SYMB   '',010006H,7,276
                   219           ?SYMB   '',010007H,7,277
                   220           ?SYMB   'T$1',0,40,278
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   5
cc2

 LOC CODE        LINE   SOURCELINE

                   221           ?SYMB   'bit0',0,23,262
                   222           ?SYMB   'bit1',1,23,263
                   223           ?SYMB   'bit2',2,23,264
                   224           ?SYMB   'bit3',3,23,265
                   225           ?SYMB   'bit4',4,23,266
                   226           ?SYMB   'bit5',5,23,267
                   227           ?SYMB   'bit6',6,23,268
                   228           ?SYMB   'bit7',7,23,269
                   229           ?SYMB   'bit8',8,23,270
                   230           ?SYMB   'bit9',9,23,271
                   231           ?SYMB   'bit10',10,23,272
                   232           ?SYMB   'bit11',11,23,273
                   233           ?SYMB   'bit12',12,23,274
                   234           ?SYMB   'bit13',13,23,275
                   235           ?SYMB   'bit14',14,23,276
                   236           ?SYMB   'bit15',15,23,277
                   237           ?SYMB   '',16,18,0
                   238           ?SYMB   'T_Reg16',278,13,279
                   239   _CC2_vInit      PROC    FAR
                   240           ?SYMB   '',00H,95,0
                   241   ; Locals:
                   242   ; 
                   243   ; Statics:
                   244   ; 
                   245   ; CSEs:
                   246   ; 
                   247   ; cc2.c     124   // USER CODE BEGIN (Init,2)
                   248   ; cc2.c     125 
                   249   ; cc2.c     126   // USER CODE END
                   250   ; cc2.c     127 
                   251   ; cc2.c     128   ///  -----------------------------------------------------------------------
                   252   ; cc2.c     129   ///  Configuration of  Kernel state configuration Control:
                   253   ; cc2.c     130   ///  -----------------------------------------------------------------------
                   254   ; cc2.c     131   ///  - the Peripheral is supplied with clock signal for CAPCOM2 unit
                   255   ; cc2.c     132   ///  - the CC2 module clock = 65,00 MHz
                   256   ; cc2.c     133 
                   257   ; cc2.c     134   CC2_KSCCFG     =  0x0003;      // load CAPCOM2 Kernel state configuration 
                   258           ?LINE   134
0000 E03C          259           MOV     R12,#03h
0002 F6FC24FE      260           MOV     0FE24h,R12
                   261   ; cc2.c     135                                  // register
                   262   ; cc2.c     136 
                   263   ; cc2.c     137 
                   264   ; cc2.c     138   _nop();  // one cycle delay 
                   265           ?LINE   138
0006 CC00          266           NOP
                   267   ; cc2.c     139 
                   268   ; cc2.c     140   _nop();  // one cycle delay 
                   269           ?LINE   140
0008 CC00          270           NOP
                   271   ; cc2.c     141 
                   272   ; cc2.c     142   ///  -----------------------------------------------------------------------
                   273   ; cc2.c     143   ///  Configuration of CAPCOM2 Control:
                   274   ; cc2.c     144   ///  -----------------------------------------------------------------------
                   275   ; cc2.c     145   ///  - the contents of the CC2_OUT register is visble at output port
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   6
cc2

 LOC CODE        LINE   SOURCELINE

                   276   ; cc2.c     146   //// - the contents of the port register is not changed by the CAPCOM2 
                   277   ; cc2.c     147   ////   unit. Use the macro CC2_vPortUnlock() for unlock the port.
                   278   ; cc2.c     148 
                   279   ; cc2.c     149   CC2_IOC        =  0x0002;      // load CAPCOM2 I/O control register
                   280           ?LINE   149
000A E02C          281           MOV     R12,#02h
000C F6FC66F0      282           MOV     0F066h,R12
                   283   ; cc2.c     150 
                   284   ; cc2.c     151   ///  -----------------------------------------------------------------------
                   285   ; cc2.c     152   ///  Configuration of CAPCOM2 Timer 7:
                   286   ; cc2.c     153   ///  -----------------------------------------------------------------------
                   287   ; cc2.c     154   ///  - timer 7 works in timer mode
                   288   ; cc2.c     155   ///  - prescaler factor is 8
                   289   ; cc2.c     156   ///  - timer 7 run bit is set
                   290   ; cc2.c     157 
                   291   ; cc2.c     158   ///  -----------------------------------------------------------------------
                   292   ; cc2.c     159   ///  Configuration of CAPCOM2 Timer 8:
                   293   ; cc2.c     160   ///  -----------------------------------------------------------------------
                   294   ; cc2.c     161   ///  - timer 8 works in timer mode
                   295   ; cc2.c     162   ///  - prescaler factor is 8
                   296   ; cc2.c     163   ///  - timer 8 run bit is reset
                   297   ; cc2.c     164 
                   298   ; cc2.c     165 
                   299   ; cc2.c     166   CC2_T7         =  0xF9A7;      // load CAPCOM2 timer 7 register
                   300           ?LINE   166
0010 E6FCA7F9      301           MOV     R12,#0F9A7h
0014 F6FC50F0      302           MOV     0F050h,R12
                   303   ; cc2.c     167 
                   304   ; cc2.c     168   CC2_T7REL      =  0xF9A7;      // load CAPCOM2 timer 7 reload register
                   305           ?LINE   168
0018 E6FCA7F9      306           MOV     R12,#0F9A7h
001C F6FC54F0      307           MOV     0F054h,R12
                   308   ; cc2.c     169 
                   309   ; cc2.c     170   ///  -----------------------------------------------------------------------
                   310   ; cc2.c     171   ///  Configuration of the used CAPCOM2 Timer Port Pins:
                   311   ; cc2.c     172   ///  -----------------------------------------------------------------------
                   312   ; cc2.c     173 
                   313   ; cc2.c     174 
                   314   ; cc2.c     175   ///  -----------------------------------------------------------------------
                   315   ; cc2.c     176   ///  Configuration of the used CAPCOM2 Timer Interrupts:
                   316   ; cc2.c     177   ///  -----------------------------------------------------------------------
                   317   ; cc2.c     178   ///  Tmr7 service request node configuration:
                   318   ; cc2.c     179   //// - Tmr7 interrupt is enabled but NO INTERRUPT WILL BE GENERATED because 
                   319   ; cc2.c     180   ////   priority level is 0
                   320   ; cc2.c     181 
                   321   ; cc2.c     182   CC2_T7IC       =  0x0040;     
                   322           ?LINE   182
0020 E6FC4000      323           MOV     R12,#040h
0024 F6FC6CFF      324           MOV     0FF6Ch,R12
                   325   ; cc2.c     183 
                   326   ; cc2.c     184 
                   327   ; cc2.c     185 
                   328   ; cc2.c     186   ///  -----------------------------------------------------------------------
                   329   ; cc2.c     187   ///  Configuration of the used CAPCOM2 Channel 16:
                   330   ; cc2.c     188   ///  -----------------------------------------------------------------------
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   7
cc2

 LOC CODE        LINE   SOURCELINE

                   331   ; cc2.c     189   ///  - channel 16 is disabled
                   332   ; cc2.c     190 
                   333   ; cc2.c     191   ///  -----------------------------------------------------------------------
                   334   ; cc2.c     192   ///  Configuration of the used CAPCOM2 Channel 17:
                   335   ; cc2.c     193   ///  -----------------------------------------------------------------------
                   336   ; cc2.c     194   ///  - channel 17 is disabled
                   337   ; cc2.c     195 
                   338   ; cc2.c     196   ///  -----------------------------------------------------------------------
                   339   ; cc2.c     197   ///  Configuration of the used CAPCOM2 Channel 18:
                   340   ; cc2.c     198   ///  -----------------------------------------------------------------------
                   341   ; cc2.c     199   ///  - channel 18 is disabled
                   342   ; cc2.c     200 
                   343   ; cc2.c     201   ///  -----------------------------------------------------------------------
                   344   ; cc2.c     202   ///  Configuration of the used CAPCOM2 Channel 19:
                   345   ; cc2.c     203   ///  -----------------------------------------------------------------------
                   346   ; cc2.c     204   ///  - channel 19 is disabled
                   347   ; cc2.c     205 
                   348   ; cc2.c     206   ///  -----------------------------------------------------------------------
                   349   ; cc2.c     207   ///  Configuration of the used CAPCOM2 Channel 20:
                   350   ; cc2.c     208   ///  -----------------------------------------------------------------------
                   351   ; cc2.c     209   ///  - channel 20 is disabled
                   352   ; cc2.c     210 
                   353   ; cc2.c     211   ///  -----------------------------------------------------------------------
                   354   ; cc2.c     212   ///  Configuration of the used CAPCOM2 Channel 21:
                   355   ; cc2.c     213   ///  -----------------------------------------------------------------------
                   356   ; cc2.c     214   ///  - channel 21 is disabled
                   357   ; cc2.c     215 
                   358   ; cc2.c     216   ///  -----------------------------------------------------------------------
                   359   ; cc2.c     217   ///  Configuration of the used CAPCOM2 Channel 22:
                   360   ; cc2.c     218   ///  -----------------------------------------------------------------------
                   361   ; cc2.c     219   ///  - channel 22 is disabled
                   362   ; cc2.c     220 
                   363   ; cc2.c     221   ///  -----------------------------------------------------------------------
                   364   ; cc2.c     222   ///  Configuration of the used CAPCOM2 Channel 23:
                   365   ; cc2.c     223   ///  -----------------------------------------------------------------------
                   366   ; cc2.c     224   ///  - channel 23 is disabled
                   367   ; cc2.c     225 
                   368   ; cc2.c     226   ///  -----------------------------------------------------------------------
                   369   ; cc2.c     227   ///  Configuration of the used CAPCOM2 Channel 24:
                   370   ; cc2.c     228   ///  -----------------------------------------------------------------------
                   371   ; cc2.c     229   ///  - channel 24 is disabled
                   372   ; cc2.c     230 
                   373   ; cc2.c     231   ///  -----------------------------------------------------------------------
                   374   ; cc2.c     232   ///  Configuration of the used CAPCOM2 Channel 25:
                   375   ; cc2.c     233   ///  -----------------------------------------------------------------------
                   376   ; cc2.c     234   ///  - channel 25 is disabled
                   377   ; cc2.c     235 
                   378   ; cc2.c     236   ///  -----------------------------------------------------------------------
                   379   ; cc2.c     237   ///  Configuration of the used CAPCOM2 Channel 26:
                   380   ; cc2.c     238   ///  -----------------------------------------------------------------------
                   381   ; cc2.c     239   ///  - channel 26 is disabled
                   382   ; cc2.c     240 
                   383   ; cc2.c     241   ///  -----------------------------------------------------------------------
                   384   ; cc2.c     242   ///  Configuration of the used CAPCOM2 Channel 27:
                   385   ; cc2.c     243   ///  -----------------------------------------------------------------------
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   8
cc2

 LOC CODE        LINE   SOURCELINE

                   386   ; cc2.c     244   ///  - channel 27 is disabled
                   387   ; cc2.c     245 
                   388   ; cc2.c     246   ///  -----------------------------------------------------------------------
                   389   ; cc2.c     247   ///  Configuration of the used CAPCOM2 Channel 28:
                   390   ; cc2.c     248   ///  -----------------------------------------------------------------------
                   391   ; cc2.c     249   ///  - channel 28 is disabled
                   392   ; cc2.c     250 
                   393   ; cc2.c     251   ///  -----------------------------------------------------------------------
                   394   ; cc2.c     252   ///  Configuration of the used CAPCOM2 Channel 29:
                   395   ; cc2.c     253   ///  -----------------------------------------------------------------------
                   396   ; cc2.c     254   ///  - channel 29 is disabled
                   397   ; cc2.c     255 
                   398   ; cc2.c     256   ///  -----------------------------------------------------------------------
                   399   ; cc2.c     257   ///  Configuration of the used CAPCOM2 Channel 30:
                   400   ; cc2.c     258   ///  -----------------------------------------------------------------------
                   401   ; cc2.c     259   ///  - channel 30 is disabled
                   402   ; cc2.c     260 
                   403   ; cc2.c     261   ///  -----------------------------------------------------------------------
                   404   ; cc2.c     262   ///  Configuration of the used CAPCOM2 Channel 31:
                   405   ; cc2.c     263   ///  -----------------------------------------------------------------------
                   406   ; cc2.c     264   ///  - channel 31 is disabled
                   407   ; cc2.c     265 
                   408   ; cc2.c     266 
                   409   ; cc2.c     267   ///  -----------------------------------------------------------------------
                   410   ; cc2.c     268   ///  Configuration of the used CAPCOM2 Channel Port Pins:
                   411   ; cc2.c     269   ///  -----------------------------------------------------------------------
                   412   ; cc2.c     270 
                   413   ; cc2.c     271 
                   414   ; cc2.c     272   ///  -----------------------------------------------------------------------
                   415   ; cc2.c     273   ///  Configuration of the used CAPCOM2 Channels Interrupts:
                   416   ; cc2.c     274   ///  -----------------------------------------------------------------------
                   417   ; cc2.c     275 
                   418   ; cc2.c     276   CC2_T78CON_T7R    = 1;    // set CAPCOM2 timer 7 run bit
                   419           ?LINE   276
0028 E6FC20FF      420           MOV     R12,#0FF20h
002C A8DC          421           MOV     R13,[R12]
002E 0AFD4040      422           BFLDL   R13,#040h,#040h
0032 B8DC          423           MOV     [R12],R13
                   424   ; cc2.c     277 
                   425   ; cc2.c     278 
                   426   ; cc2.c     279   // USER CODE BEGIN (Tmr8,3)
                   427   ; cc2.c     280 
                   428   ; cc2.c     281   // USER CODE END
                   429   ; cc2.c     282 
                   430   ; cc2.c     283 } //  End of function CC2_viTmr8
                   431           ?LINE   283
0034 DB00          432           RETS
                   433   _CC2_vInit      ENDP
               R   434           ?SYMB   '',$,17,283
                   435   ; cc2.c     284 
                   436   ; cc2.c     285 
                   437   ; cc2.c     286 
                   438   ; cc2.c     287 
                   439   ; cc2.c     288 // USER CODE BEGIN (CC2_General,10)
                   440   ; cc2.c     289 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 27 2021  Time: 18:18:34  Page:   9
cc2

 LOC CODE        LINE   SOURCELINE

                   441   ; cc2.c     290 // USER CODE END
                   442   ; cc2.c     291 
                   443   CC2_1_PR        ENDS
                   444   
                   445           REGDEF  R0-R15
                   446           END

total errors: 0, warnings: 0

