TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   1
ccu63

 LOC CODE        LINE   SOURCELINE

                     1   ; TASKING C166/ST10 C compiler v8.7r1 Build 775
                     2   ; options: -e -Id:\programme\tasking\c166 v8.7r1\include -x2 -Bhoeufmknladij -OB
                     3   ;          -OE -zswitch_tabmem_default -zautobitastruct-4 -zautobita-0 -FSC -A1
                     4   ;          -zvolatile_union -O0 -g -newerr -s -i0 -Ms
                     5   $DEBUG
                     6   $NOLOCALS
                     7   $EXTEND2
                     8   $NOMOD166
                     9   $STDNAMES(regsuper10bo.def)
                    10   $EXTMAC
                    11   $CASE
                    12   $NOEXPANDREGBANK
                    13   $MODEL(SMALL)
                    14           NAME    CCU63_C
                    15           ?SYMB   'ccu63.c',32,80,16
                    16           ?SYMB   '',1,82,0
                    17           ?SYMB   '80166',0,84,0
                    18           ?SYMB   '',0,81,0
                    19           ?SYMB   'void',00H,45,1
                    20           ?SYMB   'char',080000H,45,2
                    21           ?SYMB   'unsigned char',080000H,45,3
                    22           ?SYMB   'short',0100000H,45,4
                    23           ?SYMB   'unsigned short',0100000H,45,5
                    24           ?SYMB   'long',0200000H,45,6
                    25           ?SYMB   'unsigned long',0200000H,45,7
                    26           ?SYMB   'float',0200000H,45,10
                    27           ?SYMB   'double',0400000H,45,11
                    28           ?SYMB   'int',0100000H,45,16
                    29           ?SYMB   'unsigned int',0100000H,45,18
                    30           ?SYMB   'bit',010000H,7,256
                    31           ?SYMB   'ccu63.c',0,29,1
                    32           ?SYMB   '',0,86,1
                    33   ; ccu63.c     1 //****************************************************************************
                    34   ; ccu63.c     2 // @Module        Capture / Compare Unit 63 (CCU63)
                    35   ; ccu63.c     3 // @Filename      CCU63.C
                    36   ; ccu63.c     4 // @Project       DAvE_config.dav
                    37   ; ccu63.c     5 //----------------------------------------------------------------------------
                    38   ; ccu63.c     6 // @Controller    Infineon XE167F-96F66
                    39   ; ccu63.c     7 //
                    40   ; ccu63.c     8 // @Compiler      Tasking Classic
                    41   ; ccu63.c     9 //
                    42   ; ccu63.c    10 // @Codegenerator 2.2
                    43   ; ccu63.c    11 //
                    44   ; ccu63.c    12 // @Description   This file contains functions that use the CCU63 module.
                    45   ; ccu63.c    13 //
                    46   ; ccu63.c    14 //----------------------------------------------------------------------------
                    47   ; ccu63.c    15 // @Date          30.09.2021 14:42:54
                    48   ; ccu63.c    16 //
                    49   ; ccu63.c    17 //****************************************************************************
                    50   ; ccu63.c    18 
                    51   ; ccu63.c    19 // USER CODE BEGIN (CCU63_General,1)
                    52   ; ccu63.c    20 
                    53   ; ccu63.c    21 // USER CODE END
                    54   ; ccu63.c    22 
                    55   ; ccu63.c    23 //****************************************************************************
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   2
ccu63

 LOC CODE        LINE   SOURCELINE

                    56   ; ccu63.c    24 // @Project Includes
                    57   ; ccu63.c    25 //****************************************************************************
                    58   ; ccu63.c    26 
                    59   ; ccu63.c    27 #include "MAIN.H"
                    60           ?SYMB   'MAIN.H',0,29,2
                    61           ?SYMB   '',0,86,2
                    62           ?SYMB   'XE16xREGS.H',0,29,3
                    63           ?SYMB   '',0,86,3
                    64           ?SYMB   '',0,86,2
                    65           ?SYMB   'SCS.H',0,29,3
                    66           ?SYMB   '',0,86,3
                    67           ?SYMB   'T$2',0,14,257
                    68           ?SYMB   'SCS_EXTCLK_F_SYS',0,33,257
                    69           ?SYMB   'SCS_EXTCLK_F_OUT',1,33,257
                    70           ?SYMB   'SCS_EXTCLK_F_PLL',2,33,257
                    71           ?SYMB   'SCS_EXTCLK_F_OSC',3,33,257
                    72           ?SYMB   'SCS_EXTCLK_F_WU',4,33,257
                    73           ?SYMB   'SCS_EXTCLK_F_TCK',5,33,257
                    74           ?SYMB   'SCS_EXTCLK_F_OSC_FL',6,33,257
                    75           ?SYMB   'SCS_EXTCLK_F_RTC',8,33,257
                    76           ?SYMB   '',16,16,0
                    77           ?SYMB   'SCS_EXTCLK_Type',257,13,258
                    78           ?SYMB   '',0,86,2
                    79           ?SYMB   'IO.H',0,29,3
                    80           ?SYMB   '',0,86,3
                    81           ?SYMB   '',0,86,2
                    82           ?SYMB   'GPT1.H',0,29,3
                    83           ?SYMB   '',0,86,3
                    84           ?SYMB   '',0,86,2
                    85           ?SYMB   'GPT2.H',0,29,3
                    86           ?SYMB   '',0,86,3
                    87           ?SYMB   '',0,86,2
                    88           ?SYMB   'CCU62.H',0,29,3
                    89           ?SYMB   '',0,86,3
                    90           ?SYMB   '',0,86,2
                    91           ?SYMB   'CCU63.H',0,29,3
                    92           ?SYMB   '',0,86,3
                    93           ?SYMB   '',0,86,2
                    94           ?SYMB   'ADC0.H',0,29,3
                    95           ?SYMB   '',0,86,3
                    96           ?SYMB   'ubyte',3,13,259
                    97           ?SYMB   '',0,86,2
                    98           ?SYMB   '',0,86,1
                    99   ; ccu63.c    28 
                   100   ; ccu63.c    29 // USER CODE BEGIN (CCU63_General,2)
                   101   ; ccu63.c    30 
                   102   ; ccu63.c    31 // USER CODE END
                   103   ; ccu63.c    32 
                   104   ; ccu63.c    33 //****************************************************************************
                   105   ; ccu63.c    34 // @Macros
                   106   ; ccu63.c    35 //****************************************************************************
                   107   ; ccu63.c    36 
                   108   ; ccu63.c    37 // USER CODE BEGIN (CCU63_General,3)
                   109   ; ccu63.c    38 
                   110   ; ccu63.c    39 // USER CODE END
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   3
ccu63

 LOC CODE        LINE   SOURCELINE

                   111   ; ccu63.c    40 
                   112   ; ccu63.c    41 //****************************************************************************
                   113   ; ccu63.c    42 // @Defines
                   114   ; ccu63.c    43 //****************************************************************************
                   115   ; ccu63.c    44 
                   116   ; ccu63.c    45 // USER CODE BEGIN (CCU63_General,4)
                   117   ; ccu63.c    46 
                   118   ; ccu63.c    47 // USER CODE END
                   119   ; ccu63.c    48 
                   120   ; ccu63.c    49 //****************************************************************************
                   121   ; ccu63.c    50 // @Typedefs
                   122   ; ccu63.c    51 //****************************************************************************
                   123   ; ccu63.c    52 
                   124   ; ccu63.c    53 // USER CODE BEGIN (CCU63_General,5)
                   125   ; ccu63.c    54 
                   126   ; ccu63.c    55 // USER CODE END
                   127   ; ccu63.c    56 
                   128   ; ccu63.c    57 //****************************************************************************
                   129   ; ccu63.c    58 // @Imported Global Variables
                   130   ; ccu63.c    59 //****************************************************************************
                   131   ; ccu63.c    60 
                   132   ; ccu63.c    61 // USER CODE BEGIN (CCU63_General,6)
                   133   ; ccu63.c    62 extern const unsigned int ARRAY_SIZE;
                   134   ; ccu63.c    63 extern int table[];
                   135   ; ccu63.c    64 extern unsigned int index;
                   136   ; ccu63.c    65 extern unsigned int OFFSET_L1;
                   137   ; ccu63.c    66 extern unsigned int OFFSET_L2;
                   138   ; ccu63.c    67 extern unsigned int OFFSET_L3;
                   139   ; ccu63.c    68 extern const unsigned int frequency;
                   140   ; ccu63.c    69 extern const unsigned int HALF_PERIODVALUE;
                   141   ; ccu63.c    70 // USER CODE END
                   142   ; ccu63.c    71 
                   143   ; ccu63.c    72 //****************************************************************************
                   144   ; ccu63.c    73 // @Global Variables
                   145   ; ccu63.c    74 //****************************************************************************
                   146   ; ccu63.c    75 
                   147   ; ccu63.c    76 // USER CODE BEGIN (CCU63_General,7)
                   148   ; ccu63.c    77 
                   149   ; ccu63.c    78 // USER CODE END
                   150   ; ccu63.c    79 
                   151   ; ccu63.c    80 //****************************************************************************
                   152   ; ccu63.c    81 // @External Prototypes
                   153   ; ccu63.c    82 //****************************************************************************
                   154   ; ccu63.c    83 
                   155   ; ccu63.c    84 // USER CODE BEGIN (CCU63_General,8)
                   156   ; ccu63.c    85 
                   157   ; ccu63.c    86 // USER CODE END
                   158   ; ccu63.c    87 
                   159   ; ccu63.c    88 //****************************************************************************
                   160   ; ccu63.c    89 // @Prototypes Of Local Functions
                   161   ; ccu63.c    90 //****************************************************************************
                   162   ; ccu63.c    91 
                   163   ; ccu63.c    92 // USER CODE BEGIN (CCU63_General,9)
                   164   ; ccu63.c    93 
                   165   ; ccu63.c    94 // USER CODE END
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   4
ccu63

 LOC CODE        LINE   SOURCELINE

                   166   ; ccu63.c    95 
                   167   ; ccu63.c    96 //****************************************************************************
                   168   ; ccu63.c    97 // @Function      void CCU63_vInit(void)
                   169   ; ccu63.c    98 //
                   170   ; ccu63.c    99 //----------------------------------------------------------------------------
                   171   ; ccu63.c   100 // @Description   This is the initialization function of the CCU63 function
                   172   ; ccu63.c   101 //                library. It is assumed that the SFRs used by this library
                   173   ; ccu63.c   102 //                are in reset state.
                   174   ; ccu63.c   103 //
                   175   ; ccu63.c   104 //----------------------------------------------------------------------------
                   176   ; ccu63.c   105 // @Returnvalue   None
                   177   ; ccu63.c   106 //
                   178   ; ccu63.c   107 //----------------------------------------------------------------------------
                   179   ; ccu63.c   108 // @Parameters    None
                   180   ; ccu63.c   109 //
                   181   ; ccu63.c   110 //----------------------------------------------------------------------------
                   182   ; ccu63.c   111 // @Date          30.09.2021
                   183   ; ccu63.c   112 //
                   184   ; ccu63.c   113 //****************************************************************************
                   185   ; ccu63.c   114 
                   186   ; ccu63.c   115 // USER CODE BEGIN (Init,1)
                   187   ; ccu63.c   116 
                   188   ; ccu63.c   117 // USER CODE END
                   189   ; ccu63.c   118 
                   190   ; ccu63.c   119 void CCU63_vInit(void) {
                   191   CCU63_1_PR      SECTION CODE WORD PUBLIC 'CPROGRAM'
                   192           ?LINE   119
                   193           PUBLIC  _CCU63_vInit
               R   194           ?SYMB   'CCU63_vInit',_CCU63_vInit,37,1
                   195           ?SYMB   '',119,8,34
                   196           ?SYMB   'uword',18,13,261
                   197   _CCU63_vInit    PROC    FAR
                   198           ?SYMB   '',00H,95,0
                   199   ; Locals:
                   200   ; 
                   201   ; Statics:
                   202   ; 
                   203   ; CSEs:
                   204   ; 
                   205   ; ccu63.c   120         // USER CODE BEGIN (Init,2)
                   206   ; ccu63.c   121 
                   207   ; ccu63.c   122         // USER CODE END
                   208   ; ccu63.c   123 
                   209   ; ccu63.c   124         ///  ------------------------------------------------------------------
                         -----
                   210   ; ccu63.c   125         ///  Configuration of KERNEL REGISTERS :
                   211   ; ccu63.c   126         ///  ------------------------------------------------------------------
                         -----
                   212   ; ccu63.c   127         ///  - CCU63 Module is enabled.
                   213   ; ccu63.c   128         ///  - The CCU63 module clock = 65,000 MHz.
                   214   ; ccu63.c   129         ///  - T12 is enabled.
                   215   ; ccu63.c   130         ///  - T13 is enabled.
                   216   ; ccu63.c   131         ///  - MCM is enabled.
                   217   ; ccu63.c   132 
                   218   ; ccu63.c   133         CCU63_KSCFG = 0x0003;  // Kernel State Configuration Register
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   5
ccu63

 LOC CODE        LINE   SOURCELINE

                   219           ?LINE   133
0000 E03C          220           MOV     R12,#03h
0002 F6FC80EB      221           MOV     0EB80h,R12
                   222   ; ccu63.c   134 
                   223   ; ccu63.c   135         _nop();  //No operation function as Delay
                   224           ?LINE   135
0006 CC00          225           NOP
                   226   ; ccu63.c   136         _nop();  //No operation function as Delay
                   227           ?LINE   136
0008 CC00          228           NOP
                   229   ; ccu63.c   137         _nop();  //No operation function as Delay
                   230           ?LINE   137
000A CC00          231           NOP
                   232   ; ccu63.c   138         _nop();  //No operation function as Delay
                   233           ?LINE   138
000C CC00          234           NOP
                   235   ; ccu63.c   139 
                   236   ; ccu63.c   140         ///  ------------------------------------------------------------------
                         -----
                   237   ; ccu63.c   141         ///  Configuration of CCU63 Timer 12:
                   238   ; ccu63.c   142         ///  ------------------------------------------------------------------
                         -----
                   239   ; ccu63.c   143         ///  - Timer 12 Input clock factor (T12CLK) is 0
                   240   ; ccu63.c   144         ///  - prescaler factor is 0
                   241   ; ccu63.c   145         ///  - Timer 12 run bit is reset
                   242   ; ccu63.c   146         ///  - Single shot mode is disabled
                   243   ; ccu63.c   147         ///  - Timer 12 works in center aligned mode
                   244   ; ccu63.c   148         ///  - Interrupt on period match is enabled
                   245   ; ccu63.c   149         ///  - Interrupt on one match is enabled
                   246   ; ccu63.c   150         ///  - No External run selection is selected.
                   247   ; ccu63.c   151         ///  - Timer mode is selected.
                   248   ; ccu63.c   152         ///  -
                   249   ; ccu63.c   153 
                   250   ; ccu63.c   154         CCU63_T12PR = 0x070B;  // load CCU63 T12 period register
                   251           ?LINE   154
000E E6FC0B07      252           MOV     R12,#070Bh
0012 F6FC92EB      253           MOV     0EB92h,R12
                   254   ; ccu63.c   155 
                   255   ; ccu63.c   156         ///  ------------------------------------------------------------------
                         -----
                   256   ; ccu63.c   157         ///  Configuration of T13HR Signal:
                   257   ; ccu63.c   158         ///  ------------------------------------------------------------------
                         -----
                   258   ; ccu63.c   159         ///  - Signal T13HRA is selected as Input
                   259   ; ccu63.c   160 
                   260   ; ccu63.c   161         ///  ------------------------------------------------------------------
                         -----
                   261   ; ccu63.c   162         ///  Configuration of CCU63 Timer 13:
                   262   ; ccu63.c   163         ///  ------------------------------------------------------------------
                         -----
                   263   ; ccu63.c   164         ///  - Timer 13 Input Clock factor (T13CLK) is 0
                   264   ; ccu63.c   165         ///  - prescaler factor is 0
                   265   ; ccu63.c   166         ///  - Timer 13 run bit is reset
                   266   ; ccu63.c   167         ///  - Trigger control is disabled
                   267   ; ccu63.c   168         ///  - No External run selection is selected.
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   6
ccu63

 LOC CODE        LINE   SOURCELINE

                   268   ; ccu63.c   169         ///  - Timer mode is selected.
                   269   ; ccu63.c   170         ///  -
                   270   ; ccu63.c   171         ///  - Single shot mode is disabled
                   271   ; ccu63.c   172         ///  - Interrupt on period match is disabled
                   272   ; ccu63.c   173         ///  - Interrupt on compare match is disabled
                   273   ; ccu63.c   174 
                   274   ; ccu63.c   175         CCU63_T13PR = 0x0001;  // load CCU63 T13 period register
                   275           ?LINE   175
0016 E01C          276           MOV     R12,#01h
0018 F6FCB2EB      277           MOV     0EBB2h,R12
                   278   ; ccu63.c   176 
                   279   ; ccu63.c   177         CCU63_TCTR0 = 0x0080;  // load CCU63 timer control register 0
                   280           ?LINE   177
001C E6FC8000      281           MOV     R12,#080h
0020 F6FCACEB      282           MOV     0EBACh,R12
                   283   ; ccu63.c   178         CCU63_TCTR2 = 0x0020;  // load CCU63 timer control register 2
                   284           ?LINE   178
0024 E6FC2000      285           MOV     R12,#020h
0028 F6FCAEEB      286           MOV     0EBAEh,R12
                   287   ; ccu63.c   179 
                   288   ; ccu63.c   180         ///  ------------------------------------------------------------------
                         -----
                   289   ; ccu63.c   181         ///  Configuration of Multi Channel Mode:
                   290   ; ccu63.c   182         ///  ------------------------------------------------------------------
                         -----
                   291   ; ccu63.c   183         ///  - Multi channel mode is disabled
                   292   ; ccu63.c   184 
                   293   ; ccu63.c   185         ///  ------------------------------------------------------------------
                         -----
                   294   ; ccu63.c   186         ///  Configuration of CCU63 Channel 0:
                   295   ; ccu63.c   187         ///  ------------------------------------------------------------------
                         -----
                   296   ; ccu63.c   188         ///  - Compare mode 1 is selected
                   297   ; ccu63.c   189         ///  - T12 modulation for output CC60 is enabled
                   298   ; ccu63.c   190         ///  - T13 modulation for output CC60 is disabled
                   299   ; ccu63.c   191         ///  - The trap functionality of the pin CC60 is disabled
                   300   ; ccu63.c   192         ///  - The compare output CC60 drives passive level while CC60ST is '0'
                   301   ; ccu63.c   193         ///  - The passive level of the output CC60 is '0'
                   302   ; ccu63.c   194         ///  - T12 modulation for output COUT60 is enabled
                   303   ; ccu63.c   195         ///  - T13 modulation for output COUT60 is disabled
                   304   ; ccu63.c   196         ///  - The trap functionality of the pin COUT60 is disabled
                   305   ; ccu63.c   197         ///  - The compare output COUT60 drives passive level while CC60ST is '
                         1'
                   306   ; ccu63.c   198         ///  - The passive level of the output COUT60 is '0'
                   307   ; ccu63.c   199         ///  - Dead time generation is enabled
                   308   ; ccu63.c   200 
                   309   ; ccu63.c   201         ///  - Generation interrupt on flag ICC60R is disabled
                   310   ; ccu63.c   202         ///  - Generation interrupt on flag ICC60F is disabled
                   311   ; ccu63.c   203 
                   312   ; ccu63.c   204         CCU63_CC60SR = 0x070C;  // Load CCU63 capture/compare shadow
                   313           ?LINE   204
002C E6FC0C07      314           MOV     R12,#070Ch
0030 F6FCA0EB      315           MOV     0EBA0h,R12
                   316   ; ccu63.c   205                                                         // register for channel
                          0
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   7
ccu63

 LOC CODE        LINE   SOURCELINE

                   317   ; ccu63.c   206 
                   318   ; ccu63.c   207         ///  ------------------------------------------------------------------
                         -----
                   319   ; ccu63.c   208         ///  Configuration of CCU63 Channel 1:
                   320   ; ccu63.c   209         ///  ------------------------------------------------------------------
                         -----
                   321   ; ccu63.c   210         ///  - Compare mode 1 is selected
                   322   ; ccu63.c   211         ///  - T12 modulation for output CC61 is enabled
                   323   ; ccu63.c   212         ///  - T13 modulation for output CC61 is disabled
                   324   ; ccu63.c   213         ///  - The trap functionality of the pin CC61 is disabled
                   325   ; ccu63.c   214         ///  - The compare output CC61 drives passive level while CC61ST is '0'
                   326   ; ccu63.c   215         ///  - The passive level of the output CC61 is '0'
                   327   ; ccu63.c   216         ///  - T12 modulation for output COUT61 is enabled
                   328   ; ccu63.c   217         ///  - T13 modulation for output COUT61 is disabled
                   329   ; ccu63.c   218         ///  - The trap functionality of the pin COUT61 is disabled
                   330   ; ccu63.c   219         ///  - The compare output COUT61 drives passive level while CC61ST is '
                         1'
                   331   ; ccu63.c   220         ///  - The passive level of the output COUT61 is '0'
                   332   ; ccu63.c   221         ///  - Dead time generation is enabled
                   333   ; ccu63.c   222 
                   334   ; ccu63.c   223         ///  - Generation interrupt on flag ICC61R is disabled
                   335   ; ccu63.c   224         ///  - Generation interrupt on flag ICC61F is disabled
                   336   ; ccu63.c   225 
                   337   ; ccu63.c   226         CCU63_CC61SR = 0x070C;  // Load CCU63 capture/compare shadow
                   338           ?LINE   226
0034 E6FC0C07      339           MOV     R12,#070Ch
0038 F6FCA2EB      340           MOV     0EBA2h,R12
                   341   ; ccu63.c   227                                                         // register for channel
                          1
                   342   ; ccu63.c   228 
                   343   ; ccu63.c   229         ///  ------------------------------------------------------------------
                         -----
                   344   ; ccu63.c   230         ///  Configuration of CCU63 Channel 2:
                   345   ; ccu63.c   231         ///  ------------------------------------------------------------------
                         -----
                   346   ; ccu63.c   232         ///  - Compare mode 1 is selected
                   347   ; ccu63.c   233         ///  - T12 modulation for output CC62 is enabled
                   348   ; ccu63.c   234         ///  - T13 modulation for output CC62 is disabled
                   349   ; ccu63.c   235         ///  - The trap functionality of the pin CC62 is disabled
                   350   ; ccu63.c   236         ///  - The compare output CC62 drives passive level while CC62ST is '0'
                   351   ; ccu63.c   237         ///  - The passive level of the output CC62 is '0'
                   352   ; ccu63.c   238         ///  - T12 modulation for output COUT62 is enabled
                   353   ; ccu63.c   239         ///  - T13 modulation for output COUT62 is disabled
                   354   ; ccu63.c   240         ///  - The trap functionality of the pin COUT62 is disabled
                   355   ; ccu63.c   241         ///  - The compare output COUT62 drives passive level while CC62ST is '
                         1'
                   356   ; ccu63.c   242         ///  - The passive level of the output COUT62 is '0'
                   357   ; ccu63.c   243         ///  - Dead time generation is enabled
                   358   ; ccu63.c   244 
                   359   ; ccu63.c   245         ///  - Generation interrupt on flag ICC62R is disabled
                   360   ; ccu63.c   246         ///  - Generation interrupt on flag ICC62F is disabled
                   361   ; ccu63.c   247 
                   362   ; ccu63.c   248         CCU63_CC62SR = 0x070C;  // Load CCU63 capture/compare shadow
                   363           ?LINE   248
003C E6FC0C07      364           MOV     R12,#070Ch
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   8
ccu63

 LOC CODE        LINE   SOURCELINE

0040 F6FCA4EB      365           MOV     0EBA4h,R12
                   366   ; ccu63.c   249                                                         // register for channel
                          2
                   367   ; ccu63.c   250 
                   368   ; ccu63.c   251         ///  ------------------------------------------------------------------
                         -----
                   369   ; ccu63.c   252         ///  Configuration of CCU63 Channel 3:
                   370   ; ccu63.c   253         ///  ------------------------------------------------------------------
                         -----
                   371   ; ccu63.c   254         ///  - T13 output is not inverted
                   372   ; ccu63.c   255 
                   373   ; ccu63.c   256         CCU63_CC63SR = 0x0000;  // load CCU63 capture/compare shadow
                   374           ?LINE   256
0044 E00C          375           MOV     R12,#00h
0046 F6FCB6EB      376           MOV     0EBB6h,R12
                   377   ; ccu63.c   257                                                         // register for channel
                          3
                   378   ; ccu63.c   258 
                   379   ; ccu63.c   259         CCU63_T12DTC = 0x0741;  // load CCU63 dead time control register for
                   380           ?LINE   259
004A E6FC4107      381           MOV     R12,#0741h
004E F6FC94EB      382           MOV     0EB94h,R12
                   383   ; ccu63.c   260                                                         // timer T12
                   384   ; ccu63.c   261 
                   385   ; ccu63.c   262         CCU63_T12MSEL = 0x0111;  // load CCU63 T12 campture/compare mode
                   386           ?LINE   262
0052 E6FC1101      387           MOV     R12,#0111h
0056 F6FCC6EB      388           MOV     0EBC6h,R12
                   389   ; ccu63.c   263                                                          // select register
                   390   ; ccu63.c   264 
                   391   ; ccu63.c   265         CCU63_CMPSTAT = 0x2A00;  // load CCU63 compare status register
                   392           ?LINE   265
005A E6FC002A      393           MOV     R12,#02A00h
005E F6FCA8EB      394           MOV     0EBA8h,R12
                   395   ; ccu63.c   266 
                   396   ; ccu63.c   267         CCU63_MODCTR = 0x003F;  // load CCU63 modulation control register
                   397           ?LINE   267
0062 E6FC3F00      398           MOV     R12,#03Fh
0066 F6FCC0EB      399           MOV     0EBC0h,R12
                   400   ; ccu63.c   268 
                   401   ; ccu63.c   269         ///  ------------------------------------------------------------------
                         -----
                   402   ; ccu63.c   270         ///  Configuration of CCU63 trap control:
                   403   ; ccu63.c   271         ///  ------------------------------------------------------------------
                         -----
                   404   ; ccu63.c   272         ///  - Trap can only be generated by SW by setting the bit TRPF
                   405   ; ccu63.c   273         ///  - The trap state is left when a zero-match of T12 (while counting 
                         up)
                   406   ; ccu63.c   274         ///    is detected (synchronization to T12)
                   407   ; ccu63.c   275         ///  - Bit TRPF is automatically cleared by HW (according to TRPPEN, TR
                         PM0
                   408   ; ccu63.c   276         ///    and TRPM1)
                   409   ; ccu63.c   277         ///  - Trap interrupt is disabled
                   410   ; ccu63.c   278 
                   411   ; ccu63.c   279         ///  ------------------------------------------------------------------
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:   9
ccu63

 LOC CODE        LINE   SOURCELINE

                         -----
                   412   ; ccu63.c   280         ///  Configuration of CCU63 interrupt control:
                   413   ; ccu63.c   281         ///  ------------------------------------------------------------------
                         -----
                   414   ; ccu63.c   282         ///  - For channel 0 interrupts is node I0 selected
                   415   ; ccu63.c   283         ///  - For channel 1 interrupts is node I0 selected
                   416   ; ccu63.c   284         ///  - For channel 2 interrupts is node I0 selected
                   417   ; ccu63.c   285         ///  - For correct hall event interrupt is node I0 selected
                   418   ; ccu63.c   286         ///  - For error interrupts is node I0 selected
                   419   ; ccu63.c   287         ///  - For T12 interrupts is node I0 selected
                   420   ; ccu63.c   288         ///  - For T13 interrupts is node I0 selected
                   421   ; ccu63.c   289 
                   422   ; ccu63.c   290         CCU63_INP = 0x0000;      // Load CCU63 capture/compare interrupt node
                   423           ?LINE   290
006A E00C          424           MOV     R12,#00h
006C F6FCD6EB      425           MOV     0EBD6h,R12
                   426   ; ccu63.c   291                                                  // pointer register
                   427   ; ccu63.c   292 
                   428   ; ccu63.c   293         CCU63_IEN = 0x00C0;      // Load CCU63 capture/compare interrupt
                   429           ?LINE   293
0070 E6FCC000      430           MOV     R12,#0C0h
0074 F6FCD8EB      431           MOV     0EBD8h,R12
                   432   ; ccu63.c   294                                                  // enable register
                   433   ; ccu63.c   295 
                   434   ; ccu63.c   296         ///  ------------------------------------------------------------------
                         -----
                   435   ; ccu63.c   297         ///  Configuration of the used CCU63 Channel Port Pins:
                   436   ; ccu63.c   298         ///  ------------------------------------------------------------------
                         -----
                   437   ; ccu63.c   299         ///  - P9.0 is used for CCU63 output(CC60)
                   438   ; ccu63.c   300         ///  - P9.1 is used for CCU63 output(CC61)
                   439   ; ccu63.c   301         ///  - P9.2 is used for CCU63 output(CC62)
                   440   ; ccu63.c   302         ///  - P9.3 is used for CCU63 output(COUT60)
                   441   ; ccu63.c   303         ///  - P9.4 is used for CCU63 output(COUT61)
                   442   ; ccu63.c   304         ///  - P9.5 is used for CCU63 output(COUT62)
                   443   ; ccu63.c   305 
                   444   ; ccu63.c   306         P9_IOCR00 = 0x0090;      //set direction register
                   445           ?LINE   306
0078 E6FC9000      446           MOV     R12,#090h
007C F6FC20E9      447           MOV     0E920h,R12
                   448   ; ccu63.c   307         P9_IOCR01 = 0x0090;      //set direction register
                   449           ?LINE   307
0080 E6FC9000      450           MOV     R12,#090h
0084 F6FC22E9      451           MOV     0E922h,R12
                   452   ; ccu63.c   308         P9_IOCR02 = 0x0090;      //set direction register
                   453           ?LINE   308
0088 E6FC9000      454           MOV     R12,#090h
008C F6FC24E9      455           MOV     0E924h,R12
                   456   ; ccu63.c   309         P9_IOCR03 = 0x0090;      //set direction register
                   457           ?LINE   309
0090 E6FC9000      458           MOV     R12,#090h
0094 F6FC26E9      459           MOV     0E926h,R12
                   460   ; ccu63.c   310         P9_IOCR04 = 0x0090;      //set direction register
                   461           ?LINE   310
0098 E6FC9000      462           MOV     R12,#090h
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  10
ccu63

 LOC CODE        LINE   SOURCELINE

009C F6FC28E9      463           MOV     0E928h,R12
                   464   ; ccu63.c   311         P9_IOCR05 = 0x0090;      //set direction register
                   465           ?LINE   311
00A0 E6FC9000      466           MOV     R12,#090h
00A4 F6FC2AE9      467           MOV     0E92Ah,R12
                   468   ; ccu63.c   312 
                   469   ; ccu63.c   313         CCU63_PISELL = 0x3FEA;  // Load CCU63 Port Input Selection register
                   470           ?LINE   313
00A8 E6FCEA3F      471           MOV     R12,#03FEAh
00AC F6FC84EB      472           MOV     0EB84h,R12
                   473   ; ccu63.c   314 
                   474   ; ccu63.c   315         ///  ------------------------------------------------------------------
                         -----
                   475   ; ccu63.c   316         ///  Configuration of the used CCU63 Channels Interrupts:
                   476   ; ccu63.c   317         ///  ------------------------------------------------------------------
                         -----
                   477   ; ccu63.c   318         ///  NodeI0 service request node configuration:
                   478   ; ccu63.c   319         ///  - NodeI0 interrupt priority level (ILVL) = 12
                   479   ; ccu63.c   320         ///  - NodeI0 interrupt group level (GLVL) = 0
                   480   ; ccu63.c   321         ///  - NodeI0 group priority extension (GPX) = 0
                   481   ; ccu63.c   322 
                   482   ; ccu63.c   323         CCU63_0IC = 0x0070;
                   483           ?LINE   323
00B0 E6FC7000      484           MOV     R12,#070h
00B4 F6FC78F1      485           MOV     0F178h,R12
                   486   ; ccu63.c   324 
                   487   ; ccu63.c   325         ///  ------------------------------------------------------------------
                         -----
                   488   ; ccu63.c   326         ///  Configuration of T12, T13 ---- CCU63_TCTR4 Register:
                   489   ; ccu63.c   327         ///  ------------------------------------------------------------------
                         -----
                   490   ; ccu63.c   328         ///  - Enable shadow transfer of T12 and T13
                   491   ; ccu63.c   329         ///  - Timer 12 run bit is reset
                   492   ; ccu63.c   330         ///  - Timer 13 run bit is reset
                   493   ; ccu63.c   331         CCU63_TCTR4 = 0x4040;  // load CCU63 timer control register 4
                   494           ?LINE   331
00B8 E6FC4040      495           MOV     R12,#04040h
00BC F6FCA6EB      496           MOV     0EBA6h,R12
                   497   ; ccu63.c   332 
                   498   ; ccu63.c   333         // USER CODE BEGIN (NodeI3,3)
                   499   ; ccu63.c   334 
                   500   ; ccu63.c   335         // USER CODE END
                   501   ; ccu63.c   336 
                   502   ; ccu63.c   337 }  //  End of function CCU63_vInit
                   503           ?LINE   337
00C0 DB00          504           RETS
                   505   _CCU63_vInit    ENDP
               R   506           ?SYMB   '',$,17,337
                   507   ; ccu63.c   338 
                   508   ; ccu63.c   339 //****************************************************************************
                   509   ; ccu63.c   340 // @Function      void CCU63_viNodeI0(void)
                   510   ; ccu63.c   341 //
                   511   ; ccu63.c   342 //----------------------------------------------------------------------------
                   512   ; ccu63.c   343 // @Description   This is the interrupt service routine for the CCU63 node
                   513   ; ccu63.c   344 //                I0. If the content of the corresponding compare timer
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  11
ccu63

 LOC CODE        LINE   SOURCELINE

                   514   ; ccu63.c   345 //                (configurable) equals the content of the capture/compare
                   515   ; ccu63.c   346 //                register or if a capture event occurs at the associated
                   516   ; ccu63.c   347 //                port pin, the interrupt request flag is set and an
                   517   ; ccu63.c   348 //                interrupt is triggered (only if enabled).
                   518   ; ccu63.c   349 //                Please note that you have to add application specific code
                   519   ; ccu63.c   350 //                to this function.
                   520   ; ccu63.c   351 //
                   521   ; ccu63.c   352 //----------------------------------------------------------------------------
                   522   ; ccu63.c   353 // @Returnvalue   None
                   523   ; ccu63.c   354 //
                   524   ; ccu63.c   355 //----------------------------------------------------------------------------
                   525   ; ccu63.c   356 // @Parameters    None
                   526   ; ccu63.c   357 //
                   527   ; ccu63.c   358 //----------------------------------------------------------------------------
                   528   ; ccu63.c   359 // @Date          30.09.2021
                   529   ; ccu63.c   360 //
                   530   ; ccu63.c   361 //****************************************************************************
                   531   ; ccu63.c   362 
                   532   ; ccu63.c   363 // USER CODE BEGIN (NodeI0,1)
                   533   ; ccu63.c   364 
                   534   ; ccu63.c   365 // USER CODE END
                   535   ; ccu63.c   366 
                   536   ; ccu63.c   367 _interrupt(CCU63_NodeI0_INT) void CCU63_viNodeI0(void) {
               R   537           ?SYMB   'CCU63_viNodeI0',_CCU63_viNodeI0,37,1
                   538           ?SYMB   '',367,8,16
                   539   _CCU63_viNodeI0 PROC TASK CCU63_TASK INTNO CCU63_INUM = 03Ch
                   540           ?LINE   367
                   541           ?SYMB   '',00H,95,0
00C2 F6F00000  R   542           MOV     CCU63_RB,R0
00C6 C6080000  R   543           SCXT    CP,#CCU63_RB
00CA C6871000      544           SCXT    MDC,#010h
00CE EC00          545           PUSH    DPP0
00D0 E6000000  R   546           MOV     DPP0,#PAG ?BASE_DPP0
00D4 CC00          547           NOP
00D6 EC02          548           PUSH    DPP2
00D8 E6020000  R   549           MOV     DPP2,#PAG ?BASE_DPP2
00DC CC00          550           NOP
00DE EC06          551           PUSH    MDH
00E0 EC07          552           PUSH    MDL
00E2 ECEF          553           PUSH    MSW
00E4 EC2E          554           PUSH    MAL
00E6 EC2F          555           PUSH    MAH
00E8 ECEE          556           PUSH    MCW
00EA C6ED0000      557           SCXT    MRW,#00h
00EE EC84          558           PUSH    IDX0
00F0 EC85          559           PUSH    IDX1
00F2 D180          560           EXTR    #01h
00F4 EC00     1    561           PUSH    QX0
00F6 D180          562           EXTR    #01h
00F8 EC01     1    563           PUSH    QX1
00FA D180          564           EXTR    #01h
00FC EC02     1    565           PUSH    QR0
00FE D180          566           EXTR    #01h
0100 EC03     1    567           PUSH    QR1
                   568   ; Locals:
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  12
ccu63

 LOC CODE        LINE   SOURCELINE

                   569   ; 
                   570   ; Statics:
                   571   ; 
                   572   ; CSEs:
                   573   ; 
                   574   ; ccu63.c   368         // USER CODE BEGIN (NodeI0,2)
                   575   ; ccu63.c   369 
                   576   ; ccu63.c   370         // USER CODE END
                   577   ; ccu63.c   371 
                   578   ; ccu63.c   372         if (CCU63_IS & 0x0040)  // if CCU63_IS_T12OM
                   579           ?LINE   372
0102 F2FCD0EB      580           MOV     R12,0EBD0h
0106 8AFC0260      581           JB      R12.6,_9
010A EA006002  R   582           JMPA+   cc_UC,_7
010E               583   _9:
                   584   ; ccu63.c   373         {
                   585   ; ccu63.c   374                 // Timer T12 one match detection
                   586   ; ccu63.c   375 
                   587   ; ccu63.c   376                 // USER CODE BEGIN (NodeI0,20)
                   588   ; ccu63.c   377                 // laden der Schattenregister mit den nächsten Werten der Sinus
                          Wertetabelle
                   589   ; ccu63.c   378                 // U/f Steuerung mit Spannungsboost skaliert Amplitude
                   590   ; ccu63.c   379                 // konstante Verschiebung des Gleichanteils um HALF_Periodvalue
                   591   ; ccu63.c   380                 // float-Rechnung nicht ersetzt weil 1.keine Rechenzeitprobleme
                         / Zeit nicht woanders nötig
                   592   ; ccu63.c   381                 // 2.bei Verwendung von long würden durch die Skalierung 2 long
                         -Rechenoperationen und eine float-Rechenoperationen hinzu kommen
                   593   ; ccu63.c   382                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_0, table[(index 
                         + OFFSET_L1) % ARRAY_SIZE] * (0.0145 * frequency + 0.2) + (HALF_PERIODVALUE));
                   594           ?LINE   382
010E F2FC0000  R   595           MOV     R12,_index
0112 02FC0000  R   596           ADD     R12,_OFFSET_L1
0116 F2FD0000  R   597           MOV     R13,_ARRAY_SIZE
011A F6FC0EFE      598           MOV     MDL,R12
011E 5BDD          599           DIVU    R13
0120 F2FC0CFE      600           MOV     R12,MDH
0124 5C1C          601           SHL     R12,#01h
0126 D4BC0000  R   602           MOV     R11,[R12+#_table]
012A F04B          603           MOV     R4,R11
012C DA000000  R   604           CALLS   SEG __cif28r,__cif28r
               R   605           ?SYMB   '',$,96,8
0130 F0BA          606           MOV     R11,R10
0132 F2F40000  R   607           MOV     R4,_frequency
0136 DA000000  R   608           CALLS   SEG __cuf28r,__cuf28r
               R   609           ?SYMB   '',$,96,16
013A F0CB          610           MOV     R12,R11
013C F0BA          611           MOV     R11,R10
013E E6F40000  R   612           MOV     R4,#_3
0142 DA000000  R   613           CALLS   SEG __load8n,__load8n
               R   614           ?SYMB   '',$,96,24
0146 DA000000  R   615           CALLS   SEG __mlf8r,__mlf8r
014A F0BA          616           MOV     R11,R10
014C E6F40000  R   617           MOV     R4,#_4
0150 DA000000  R   618           CALLS   SEG __load8n,__load8n
               R   619           ?SYMB   '',$,96,32
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  13
ccu63

 LOC CODE        LINE   SOURCELINE

0154 DA000000  R   620           CALLS   SEG __adf8r,__adf8r
0158 F0BC          621           MOV     R11,R12
015A DA000000  R   622           CALLS   SEG __mlf8r,__mlf8r
015E F0BA          623           MOV     R11,R10
0160 F2F40000  R   624           MOV     R4,_HALF_PERIODVALUE
0164 DA000000  R   625           CALLS   SEG __cuf28r,__cuf28r
               R   626           ?SYMB   '',$,96,40
0168 DA000000  R   627           CALLS   SEG __adf8r,__adf8r
016C DA000000  R   628           CALLS   SEG __cfu82r,__cfu82r
0170 06F02800      629           ADD     R0,#028h
               R   630           ?SYMB   '',$,96,0
0174 F6F4A0EB      631           MOV     0EBA0h,R4
                   632   ; ccu63.c   383                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_1, table[(index 
                         + OFFSET_L2) % ARRAY_SIZE] * (0.0145 * frequency + 0.2) + (HALF_PERIODVALUE));
                   633           ?LINE   383
0178 F2FC0000  R   634           MOV     R12,_index
017C 02FC0000  R   635           ADD     R12,_OFFSET_L2
0180 F2FD0000  R   636           MOV     R13,_ARRAY_SIZE
0184 F6FC0EFE      637           MOV     MDL,R12
0188 5BDD          638           DIVU    R13
018A F2FC0CFE      639           MOV     R12,MDH
018E 5C1C          640           SHL     R12,#01h
0190 D4BC0000  R   641           MOV     R11,[R12+#_table]
0194 F04B          642           MOV     R4,R11
0196 DA000000  R   643           CALLS   SEG __cif28r,__cif28r
               R   644           ?SYMB   '',$,96,8
019A F0BA          645           MOV     R11,R10
019C F2F40000  R   646           MOV     R4,_frequency
01A0 DA000000  R   647           CALLS   SEG __cuf28r,__cuf28r
               R   648           ?SYMB   '',$,96,16
01A4 F0CB          649           MOV     R12,R11
01A6 F0BA          650           MOV     R11,R10
01A8 E6F40000  R   651           MOV     R4,#_3
01AC DA000000  R   652           CALLS   SEG __load8n,__load8n
               R   653           ?SYMB   '',$,96,24
01B0 DA000000  R   654           CALLS   SEG __mlf8r,__mlf8r
01B4 F0BA          655           MOV     R11,R10
01B6 E6F40000  R   656           MOV     R4,#_4
01BA DA000000  R   657           CALLS   SEG __load8n,__load8n
               R   658           ?SYMB   '',$,96,32
01BE DA000000  R   659           CALLS   SEG __adf8r,__adf8r
01C2 F0BC          660           MOV     R11,R12
01C4 DA000000  R   661           CALLS   SEG __mlf8r,__mlf8r
01C8 F0BA          662           MOV     R11,R10
01CA F2F40000  R   663           MOV     R4,_HALF_PERIODVALUE
01CE DA000000  R   664           CALLS   SEG __cuf28r,__cuf28r
               R   665           ?SYMB   '',$,96,40
01D2 DA000000  R   666           CALLS   SEG __adf8r,__adf8r
01D6 DA000000  R   667           CALLS   SEG __cfu82r,__cfu82r
01DA 06F02800      668           ADD     R0,#028h
               R   669           ?SYMB   '',$,96,0
01DE F6F4A2EB      670           MOV     0EBA2h,R4
                   671   ; ccu63.c   384                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_2, table[(index 
                         + OFFSET_L3) % ARRAY_SIZE] * (0.0145 * frequency + 0.2) + (HALF_PERIODVALUE));
                   672           ?LINE   384
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  14
ccu63

 LOC CODE        LINE   SOURCELINE

01E2 F2FC0000  R   673           MOV     R12,_index
01E6 02FC0000  R   674           ADD     R12,_OFFSET_L3
01EA F2FD0000  R   675           MOV     R13,_ARRAY_SIZE
01EE F6FC0EFE      676           MOV     MDL,R12
01F2 5BDD          677           DIVU    R13
01F4 F2FC0CFE      678           MOV     R12,MDH
01F8 5C1C          679           SHL     R12,#01h
01FA D4BC0000  R   680           MOV     R11,[R12+#_table]
01FE F04B          681           MOV     R4,R11
0200 DA000000  R   682           CALLS   SEG __cif28r,__cif28r
               R   683           ?SYMB   '',$,96,8
0204 F0BA          684           MOV     R11,R10
0206 F2F40000  R   685           MOV     R4,_frequency
020A DA000000  R   686           CALLS   SEG __cuf28r,__cuf28r
               R   687           ?SYMB   '',$,96,16
020E F0CB          688           MOV     R12,R11
0210 F0BA          689           MOV     R11,R10
0212 E6F40000  R   690           MOV     R4,#_3
0216 DA000000  R   691           CALLS   SEG __load8n,__load8n
               R   692           ?SYMB   '',$,96,24
021A DA000000  R   693           CALLS   SEG __mlf8r,__mlf8r
021E F0BA          694           MOV     R11,R10
0220 E6F40000  R   695           MOV     R4,#_4
0224 DA000000  R   696           CALLS   SEG __load8n,__load8n
               R   697           ?SYMB   '',$,96,32
0228 DA000000  R   698           CALLS   SEG __adf8r,__adf8r
022C F0BC          699           MOV     R11,R12
022E DA000000  R   700           CALLS   SEG __mlf8r,__mlf8r
0232 F0BA          701           MOV     R11,R10
0234 F2F40000  R   702           MOV     R4,_HALF_PERIODVALUE
0238 DA000000  R   703           CALLS   SEG __cuf28r,__cuf28r
               R   704           ?SYMB   '',$,96,40
023C DA000000  R   705           CALLS   SEG __adf8r,__adf8r
0240 DA000000  R   706           CALLS   SEG __cfu82r,__cfu82r
0244 06F02800      707           ADD     R0,#028h
               R   708           ?SYMB   '',$,96,0
0248 F6F4A4EB      709           MOV     0EBA4h,R4
                   710   ; ccu63.c   385                 CCU63_vEnableShadowTransfer(CCU63_TIMER_12);
                   711           ?LINE   385
024C E6FCA6EB      712           MOV     R12,#0EBA6h
0250 A8DC          713           MOV     R13,[R12]
0252 6FFD          714           BSET    R13.6
0254 B8DC          715           MOV     [R12],R13
                   716   ; ccu63.c   386                 // USER CODE END
                   717   ; ccu63.c   387 
                   718   ; ccu63.c   388                 CCU63_ISR |= 0x0040;  // clear flag CCU63_IS_T12OM
                   719           ?LINE   388
0256 E6FCD4EB      720           MOV     R12,#0EBD4h
025A A8DC          721           MOV     R13,[R12]
025C 6FFD          722           BSET    R13.6
025E B8DC          723           MOV     [R12],R13
                   724   ; ccu63.c   389         }
                   725           ?LINE   389
0260               726   _7:
                   727   ; ccu63.c   390 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  15
ccu63

 LOC CODE        LINE   SOURCELINE

                   728   ; ccu63.c   391         if (CCU63_IS & 0x0080)  // if CCU63_IS_T12PM
                   729           ?LINE   391
0260 F2FCD0EB      730           MOV     R12,0EBD0h
0264 9AFC0570      731           JNB     R12.7,_8
                   732   ; ccu63.c   392         {
                   733   ; ccu63.c   393                 // Timer T12 period match detection
                   734   ; ccu63.c   394 
                   735   ; ccu63.c   395                 // USER CODE BEGIN (NodeI0,19)
                   736   ; ccu63.c   396                 // USER CODE END
                   737   ; ccu63.c   397 
                   738   ; ccu63.c   398                 CCU63_ISR |= 0x0080;  // clear flag CCU63_IS_T12PM
                   739           ?LINE   398
0268 E6FCD4EB      740           MOV     R12,#0EBD4h
026C A8DC          741           MOV     R13,[R12]
026E 7FFD          742           BSET    R13.7
0270 B8DC          743           MOV     [R12],R13
                   744   ; ccu63.c   399         }
                   745           ?LINE   399
0272               746   _8:
                   747   ; ccu63.c   400 
                   748   ; ccu63.c   401 }  //  End of function CCU63_viNodeI0
                   749           ?LINE   401
0272 D180          750           EXTR    #01h
0274 FC03     1    751           POP     QR1
0276 D180          752           EXTR    #01h
0278 FC02     1    753           POP     QR0
027A D180          754           EXTR    #01h
027C FC01     1    755           POP     QX1
027E D180          756           EXTR    #01h
0280 FC00     1    757           POP     QX0
0282 FC85          758           POP     IDX1
0284 FC84          759           POP     IDX0
0286 FCED          760           POP     MRW
0288 FCEE          761           POP     MCW
028A FC2F          762           POP     MAH
028C FC2E          763           POP     MAL
028E FCEF          764           POP     MSW
0290 FC07          765           POP     MDL
0292 FC06          766           POP     MDH
0294 FC02          767           POP     DPP2
0296 FC00          768           POP     DPP0
0298 FC87          769           POP     MDC
029A FC08          770           POP     CP
                   771           ?LINE   401
029C FB88          772           RETI
                   773   _CCU63_viNodeI0 ENDP
               R   774           ?SYMB   '',$,17,401
                   775   ; ccu63.c   402 
                   776   ; ccu63.c   403 // USER CODE BEGIN (CCU63_General,10)
                   777   ; ccu63.c   404 
                   778   ; ccu63.c   405 // USER CODE END
                   779   CCU63_1_PR      ENDS
                   780   
                   781   CCU63_2_CO      SECTION LDAT WORD PUBLIC 'CROM'
0000               782   _4      LABEL   WORD
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 15:31:51  Page:  16
ccu63

 LOC CODE        LINE   SOURCELINE

0000 C93F9999      783           DW      03FC9h,09999h,09999h,0999Ah
0004 99999A99    
0008               784   _3      LABEL   WORD
0008 8D3F2DB2      785           DW      03F8Dh,0B22Dh,0E56h,0419h
000C 560E1904    
                   786   CCU63_2_CO      ENDS
                   787   
                   788   C166_US SECTION LDAT WORD GLBUSRSTACK 'CUSTACK'
0000               789           DS      40
                   790   C166_US ENDS
                   791   
                   792   $FLOAT(ANSI)
                   793           EXTERN  _HALF_PERIODVALUE:WORD
                   794           EXTERN  _frequency:WORD
                   795           EXTERN  _table:WORD
                   796           ?SYMB   '',010H,5,263
                   797           EXTERN  _ARRAY_SIZE:WORD
                   798           EXTERN  _index:WORD
                   799           EXTERN  _OFFSET_L1:WORD
                   800           EXTERN  _OFFSET_L3:WORD
                   801           EXTERN  _OFFSET_L2:WORD
                   802           EXTERN  __cif28r:FAR
                   803           EXTERN  __cuf28r:FAR
                   804           EXTERN  __load8n:FAR
                   805           EXTERN  __mlf8r:FAR
                   806           EXTERN  __adf8r:FAR
                   807           EXTERN  __cfu82r:FAR
                   808   CCU63_RB        REGDEF  R0-R15
                   809           END

total errors: 0, warnings: 0

