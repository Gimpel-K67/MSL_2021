TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   1
ccu63

 LOC CODE        LINE   SOURCELINE

                     1   ; TASKING C166/ST10 C compiler v8.7r1 Build 775
                     2   ; options: -e -Id:\programme\tasking\c166 v8.7r1\include -x2 -Bhoeufmknladij -OB
                     3   ;          -OE -zswitch_tabmem_default -zautobitastruct-4 -zautobita-0 -FSC -A1
                     4   ;          -zvolatile_union -O0 -g -newerr -s -i0 -Ms
                     5   $DEBUG
                     6   $NOLOCALS
                     7   $EXTEND2
                     8   $NOMOD166
                     9   $STDNAMES(regsuper10bo.def)
                    10   $EXTMAC
                    11   $CASE
                    12   $NOEXPANDREGBANK
                    13   $MODEL(SMALL)
                    14           NAME    CCU63_C
                    15           ?SYMB   'ccu63.c',32,80,16
                    16           ?SYMB   '',1,82,0
                    17           ?SYMB   '80166',0,84,0
                    18           ?SYMB   '',0,81,0
                    19           ?SYMB   'void',00H,45,1
                    20           ?SYMB   'char',080000H,45,2
                    21           ?SYMB   'unsigned char',080000H,45,3
                    22           ?SYMB   'short',0100000H,45,4
                    23           ?SYMB   'unsigned short',0100000H,45,5
                    24           ?SYMB   'long',0200000H,45,6
                    25           ?SYMB   'unsigned long',0200000H,45,7
                    26           ?SYMB   'float',0200000H,45,10
                    27           ?SYMB   'double',0400000H,45,11
                    28           ?SYMB   'int',0100000H,45,16
                    29           ?SYMB   'unsigned int',0100000H,45,18
                    30           ?SYMB   'bit',010000H,7,256
                    31           ?SYMB   'ccu63.c',0,29,1
                    32           ?SYMB   '',0,86,1
                    33   ; ccu63.c     1 //****************************************************************************
                    34   ; ccu63.c     2 // @Module        Capture / Compare Unit 63 (CCU63)
                    35   ; ccu63.c     3 // @Filename      CCU63.C
                    36   ; ccu63.c     4 // @Project       DAvE_config.dav
                    37   ; ccu63.c     5 //----------------------------------------------------------------------------
                    38   ; ccu63.c     6 // @Controller    Infineon XE167F-96F66
                    39   ; ccu63.c     7 //
                    40   ; ccu63.c     8 // @Compiler      Tasking Classic
                    41   ; ccu63.c     9 //
                    42   ; ccu63.c    10 // @Codegenerator 2.2
                    43   ; ccu63.c    11 //
                    44   ; ccu63.c    12 // @Description   This file contains functions that use the CCU63 module.
                    45   ; ccu63.c    13 //
                    46   ; ccu63.c    14 //----------------------------------------------------------------------------
                    47   ; ccu63.c    15 // @Date          30.09.2021 14:42:54
                    48   ; ccu63.c    16 //
                    49   ; ccu63.c    17 //****************************************************************************
                    50   ; ccu63.c    18 
                    51   ; ccu63.c    19 // USER CODE BEGIN (CCU63_General,1)
                    52   ; ccu63.c    20 
                    53   ; ccu63.c    21 // USER CODE END
                    54   ; ccu63.c    22 
                    55   ; ccu63.c    23 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   2
ccu63

 LOC CODE        LINE   SOURCELINE

                    56   ; ccu63.c    24 
                    57   ; ccu63.c    25 //****************************************************************************
                    58   ; ccu63.c    26 // @Project Includes
                    59   ; ccu63.c    27 //****************************************************************************
                    60   ; ccu63.c    28 
                    61   ; ccu63.c    29 #include "MAIN.H"
                    62           ?SYMB   'MAIN.H',0,29,2
                    63           ?SYMB   '',0,86,2
                    64           ?SYMB   'XE16xREGS.H',0,29,3
                    65           ?SYMB   '',0,86,3
                    66           ?SYMB   '',0,86,2
                    67           ?SYMB   'SCS.H',0,29,3
                    68           ?SYMB   '',0,86,3
                    69           ?SYMB   'T$2',0,14,257
                    70           ?SYMB   'SCS_EXTCLK_F_SYS',0,33,257
                    71           ?SYMB   'SCS_EXTCLK_F_OUT',1,33,257
                    72           ?SYMB   'SCS_EXTCLK_F_PLL',2,33,257
                    73           ?SYMB   'SCS_EXTCLK_F_OSC',3,33,257
                    74           ?SYMB   'SCS_EXTCLK_F_WU',4,33,257
                    75           ?SYMB   'SCS_EXTCLK_F_TCK',5,33,257
                    76           ?SYMB   'SCS_EXTCLK_F_OSC_FL',6,33,257
                    77           ?SYMB   'SCS_EXTCLK_F_RTC',8,33,257
                    78           ?SYMB   '',16,16,0
                    79           ?SYMB   'SCS_EXTCLK_Type',257,13,258
                    80           ?SYMB   '',0,86,2
                    81           ?SYMB   'IO.H',0,29,3
                    82           ?SYMB   '',0,86,3
                    83           ?SYMB   '',0,86,2
                    84           ?SYMB   'GPT1.H',0,29,3
                    85           ?SYMB   '',0,86,3
                    86           ?SYMB   '',0,86,2
                    87           ?SYMB   'GPT2.H',0,29,3
                    88           ?SYMB   '',0,86,3
                    89           ?SYMB   '',0,86,2
                    90           ?SYMB   'CCU62.H',0,29,3
                    91           ?SYMB   '',0,86,3
                    92           ?SYMB   '',0,86,2
                    93           ?SYMB   'CCU63.H',0,29,3
                    94           ?SYMB   '',0,86,3
                    95           ?SYMB   '',0,86,2
                    96           ?SYMB   'ADC0.H',0,29,3
                    97           ?SYMB   '',0,86,3
                    98           ?SYMB   'ubyte',3,13,259
                    99           ?SYMB   '',0,86,2
                   100           ?SYMB   '',0,86,1
                   101   ; ccu63.c    30 
                   102   ; ccu63.c    31 // USER CODE BEGIN (CCU63_General,2)
                   103   ; ccu63.c    32 
                   104   ; ccu63.c    33 // USER CODE END
                   105   ; ccu63.c    34 
                   106   ; ccu63.c    35 
                   107   ; ccu63.c    36 //****************************************************************************
                   108   ; ccu63.c    37 // @Macros
                   109   ; ccu63.c    38 //****************************************************************************
                   110   ; ccu63.c    39 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   3
ccu63

 LOC CODE        LINE   SOURCELINE

                   111   ; ccu63.c    40 // USER CODE BEGIN (CCU63_General,3)
                   112   ; ccu63.c    41 
                   113   ; ccu63.c    42 // USER CODE END
                   114   ; ccu63.c    43 
                   115   ; ccu63.c    44 
                   116   ; ccu63.c    45 //****************************************************************************
                   117   ; ccu63.c    46 // @Defines
                   118   ; ccu63.c    47 //****************************************************************************
                   119   ; ccu63.c    48 
                   120   ; ccu63.c    49 // USER CODE BEGIN (CCU63_General,4)
                   121   ; ccu63.c    50 
                   122   ; ccu63.c    51 // USER CODE END
                   123   ; ccu63.c    52 
                   124   ; ccu63.c    53 
                   125   ; ccu63.c    54 //****************************************************************************
                   126   ; ccu63.c    55 // @Typedefs
                   127   ; ccu63.c    56 //****************************************************************************
                   128   ; ccu63.c    57 
                   129   ; ccu63.c    58 // USER CODE BEGIN (CCU63_General,5)
                   130   ; ccu63.c    59 
                   131   ; ccu63.c    60 // USER CODE END
                   132   ; ccu63.c    61 
                   133   ; ccu63.c    62 
                   134   ; ccu63.c    63 //****************************************************************************
                   135   ; ccu63.c    64 // @Imported Global Variables
                   136   ; ccu63.c    65 //****************************************************************************
                   137   ; ccu63.c    66 
                   138   ; ccu63.c    67 // USER CODE BEGIN (CCU63_General,6)
                   139   ; ccu63.c    68         extern const unsigned int ARRAY_SIZE;
                   140   ; ccu63.c    69         extern int table[];
                   141   ; ccu63.c    70         extern  unsigned int index;
                   142   ; ccu63.c    71         extern unsigned int OFFSET_L1;
                   143   ; ccu63.c    72         extern unsigned int OFFSET_L2;
                   144   ; ccu63.c    73         extern unsigned int OFFSET_L3;
                   145   ; ccu63.c    74         extern const unsigned int frequency;
                   146   ; ccu63.c    75         extern const unsigned int HALF_PERIODVALUE;
                   147   ; ccu63.c    76 // USER CODE END
                   148   ; ccu63.c    77 
                   149   ; ccu63.c    78 
                   150   ; ccu63.c    79 //****************************************************************************
                   151   ; ccu63.c    80 // @Global Variables
                   152   ; ccu63.c    81 //****************************************************************************
                   153   ; ccu63.c    82 
                   154   ; ccu63.c    83 // USER CODE BEGIN (CCU63_General,7)
                   155   ; ccu63.c    84    
                   156   ; ccu63.c    85 // USER CODE END
                   157   ; ccu63.c    86 
                   158   ; ccu63.c    87 
                   159   ; ccu63.c    88 //****************************************************************************
                   160   ; ccu63.c    89 // @External Prototypes
                   161   ; ccu63.c    90 //****************************************************************************
                   162   ; ccu63.c    91 
                   163   ; ccu63.c    92 // USER CODE BEGIN (CCU63_General,8)
                   164   ; ccu63.c    93 
                   165   ; ccu63.c    94 // USER CODE END
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   4
ccu63

 LOC CODE        LINE   SOURCELINE

                   166   ; ccu63.c    95 
                   167   ; ccu63.c    96 
                   168   ; ccu63.c    97 //****************************************************************************
                   169   ; ccu63.c    98 // @Prototypes Of Local Functions
                   170   ; ccu63.c    99 //****************************************************************************
                   171   ; ccu63.c   100 
                   172   ; ccu63.c   101 // USER CODE BEGIN (CCU63_General,9)
                   173   ; ccu63.c   102 
                   174   ; ccu63.c   103 // USER CODE END
                   175   ; ccu63.c   104 
                   176   ; ccu63.c   105 
                   177   ; ccu63.c   106 //****************************************************************************
                   178   ; ccu63.c   107 // @Function      void CCU63_vInit(void) 
                   179   ; ccu63.c   108 //
                   180   ; ccu63.c   109 //----------------------------------------------------------------------------
                   181   ; ccu63.c   110 // @Description   This is the initialization function of the CCU63 function 
                   182   ; ccu63.c   111 //                library. It is assumed that the SFRs used by this library 
                   183   ; ccu63.c   112 //                are in reset state. 
                   184   ; ccu63.c   113 //
                   185   ; ccu63.c   114 //----------------------------------------------------------------------------
                   186   ; ccu63.c   115 // @Returnvalue   None
                   187   ; ccu63.c   116 //
                   188   ; ccu63.c   117 //----------------------------------------------------------------------------
                   189   ; ccu63.c   118 // @Parameters    None
                   190   ; ccu63.c   119 //
                   191   ; ccu63.c   120 //----------------------------------------------------------------------------
                   192   ; ccu63.c   121 // @Date          30.09.2021
                   193   ; ccu63.c   122 //
                   194   ; ccu63.c   123 //****************************************************************************
                   195   ; ccu63.c   124 
                   196   ; ccu63.c   125 // USER CODE BEGIN (Init,1)
                   197   ; ccu63.c   126 
                   198   ; ccu63.c   127 // USER CODE END
                   199   ; ccu63.c   128 
                   200   ; ccu63.c   129 void CCU63_vInit(void)
                   201   ; ccu63.c   130 {
                   202   CCU63_1_PR      SECTION CODE WORD PUBLIC 'CPROGRAM'
                   203           ?LINE   130
                   204           PUBLIC  _CCU63_vInit
               R   205           ?SYMB   'CCU63_vInit',_CCU63_vInit,37,1
                   206           ?SYMB   '',130,8,34
                   207           ?SYMB   'uword',18,13,261
                   208   _CCU63_vInit    PROC    FAR
                   209           ?SYMB   '',00H,95,0
                   210   ; Locals:
                   211   ; 
                   212   ; Statics:
                   213   ; 
                   214   ; CSEs:
                   215   ; 
                   216   ; ccu63.c   131   // USER CODE BEGIN (Init,2)
                   217   ; ccu63.c   132 
                   218   ; ccu63.c   133   // USER CODE END
                   219   ; ccu63.c   134 
                   220   ; ccu63.c   135   ///  -----------------------------------------------------------------------
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   5
ccu63

 LOC CODE        LINE   SOURCELINE

                   221   ; ccu63.c   136   ///  Configuration of KERNEL REGISTERS :
                   222   ; ccu63.c   137   ///  -----------------------------------------------------------------------
                   223   ; ccu63.c   138   ///  - CCU63 Module is enabled.
                   224   ; ccu63.c   139   ///  - The CCU63 module clock = 65,000 MHz. 
                   225   ; ccu63.c   140   ///  - T12 is enabled.
                   226   ; ccu63.c   141   ///  - T13 is enabled.
                   227   ; ccu63.c   142   ///  - MCM is enabled.
                   228   ; ccu63.c   143 
                   229   ; ccu63.c   144   CCU63_KSCFG    =  0x0003;      // Kernel State Configuration Register
                   230           ?LINE   144
0000 E03C          231           MOV     R12,#03h
0002 F6FC80EB      232           MOV     0EB80h,R12
                   233   ; ccu63.c   145 
                   234   ; ccu63.c   146 
                   235   ; ccu63.c   147   _nop();    //No operation function as Delay
                   236           ?LINE   147
0006 CC00          237           NOP
                   238   ; ccu63.c   148   _nop();    //No operation function as Delay
                   239           ?LINE   148
0008 CC00          240           NOP
                   241   ; ccu63.c   149   _nop();    //No operation function as Delay
                   242           ?LINE   149
000A CC00          243           NOP
                   244   ; ccu63.c   150   _nop();    //No operation function as Delay
                   245           ?LINE   150
000C CC00          246           NOP
                   247   ; ccu63.c   151 
                   248   ; ccu63.c   152   ///  -----------------------------------------------------------------------
                   249   ; ccu63.c   153   ///  Configuration of CCU63 Timer 12:
                   250   ; ccu63.c   154   ///  -----------------------------------------------------------------------
                   251   ; ccu63.c   155   ///  - Timer 12 Input clock factor (T12CLK) is 0
                   252   ; ccu63.c   156   ///  - prescaler factor is 0
                   253   ; ccu63.c   157   ///  - Timer 12 run bit is reset
                   254   ; ccu63.c   158   ///  - Single shot mode is disabled
                   255   ; ccu63.c   159   ///  - Timer 12 works in center aligned mode
                   256   ; ccu63.c   160   ///  - Interrupt on period match is enabled
                   257   ; ccu63.c   161   ///  - Interrupt on one match is enabled
                   258   ; ccu63.c   162   ///  - No External run selection is selected.
                   259   ; ccu63.c   163   ///  - Timer mode is selected.
                   260   ; ccu63.c   164   ///  - 
                   261   ; ccu63.c   165 
                   262   ; ccu63.c   166   CCU63_T12PR    =  0x070B;      // load CCU63 T12 period register
                   263           ?LINE   166
000E E6FC0B07      264           MOV     R12,#070Bh
0012 F6FC92EB      265           MOV     0EB92h,R12
                   266   ; ccu63.c   167 
                   267   ; ccu63.c   168   ///  -----------------------------------------------------------------------
                   268   ; ccu63.c   169   ///  Configuration of T13HR Signal:
                   269   ; ccu63.c   170   ///  -----------------------------------------------------------------------
                   270   ; ccu63.c   171   ///  - Signal T13HRA is selected as Input
                   271   ; ccu63.c   172 
                   272   ; ccu63.c   173   ///  -----------------------------------------------------------------------
                   273   ; ccu63.c   174   ///  Configuration of CCU63 Timer 13:
                   274   ; ccu63.c   175   ///  -----------------------------------------------------------------------
                   275   ; ccu63.c   176   ///  - Timer 13 Input Clock factor (T13CLK) is 0
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   6
ccu63

 LOC CODE        LINE   SOURCELINE

                   276   ; ccu63.c   177   ///  - prescaler factor is 0
                   277   ; ccu63.c   178   ///  - Timer 13 run bit is reset
                   278   ; ccu63.c   179   ///  - Trigger control is disabled
                   279   ; ccu63.c   180   ///  - No External run selection is selected.
                   280   ; ccu63.c   181   ///  - Timer mode is selected.
                   281   ; ccu63.c   182   ///  - 
                   282   ; ccu63.c   183   ///  - Single shot mode is disabled
                   283   ; ccu63.c   184   ///  - Interrupt on period match is disabled
                   284   ; ccu63.c   185   ///  - Interrupt on compare match is disabled
                   285   ; ccu63.c   186 
                   286   ; ccu63.c   187   CCU63_T13PR    =  0x0001;      // load CCU63 T13 period register
                   287           ?LINE   187
0016 E01C          288           MOV     R12,#01h
0018 F6FCB2EB      289           MOV     0EBB2h,R12
                   290   ; ccu63.c   188 
                   291   ; ccu63.c   189   CCU63_TCTR0    =  0x0080;      // load CCU63 timer control register 0
                   292           ?LINE   189
001C E6FC8000      293           MOV     R12,#080h
0020 F6FCACEB      294           MOV     0EBACh,R12
                   295   ; ccu63.c   190   CCU63_TCTR2    =  0x0020;      // load CCU63 timer control register 2
                   296           ?LINE   190
0024 E6FC2000      297           MOV     R12,#020h
0028 F6FCAEEB      298           MOV     0EBAEh,R12
                   299   ; ccu63.c   191 
                   300   ; ccu63.c   192   ///  -----------------------------------------------------------------------
                   301   ; ccu63.c   193   ///  Configuration of Multi Channel Mode:
                   302   ; ccu63.c   194   ///  -----------------------------------------------------------------------
                   303   ; ccu63.c   195   ///  - Multi channel mode is disabled
                   304   ; ccu63.c   196 
                   305   ; ccu63.c   197 
                   306   ; ccu63.c   198   ///  -----------------------------------------------------------------------
                   307   ; ccu63.c   199   ///  Configuration of CCU63 Channel 0:
                   308   ; ccu63.c   200   ///  -----------------------------------------------------------------------
                   309   ; ccu63.c   201   ///  - Compare mode 1 is selected
                   310   ; ccu63.c   202   ///  - T12 modulation for output CC60 is enabled
                   311   ; ccu63.c   203   ///  - T13 modulation for output CC60 is disabled
                   312   ; ccu63.c   204   ///  - The trap functionality of the pin CC60 is disabled
                   313   ; ccu63.c   205   ///  - The compare output CC60 drives passive level while CC60ST is '0'
                   314   ; ccu63.c   206   ///  - The passive level of the output CC60 is '0'
                   315   ; ccu63.c   207   ///  - T12 modulation for output COUT60 is enabled
                   316   ; ccu63.c   208   ///  - T13 modulation for output COUT60 is disabled
                   317   ; ccu63.c   209   ///  - The trap functionality of the pin COUT60 is disabled
                   318   ; ccu63.c   210   ///  - The compare output COUT60 drives passive level while CC60ST is '1'
                   319   ; ccu63.c   211   ///  - The passive level of the output COUT60 is '0'
                   320   ; ccu63.c   212   ///  - Dead time generation is enabled
                   321   ; ccu63.c   213 
                   322   ; ccu63.c   214   ///  - Generation interrupt on flag ICC60R is disabled
                   323   ; ccu63.c   215   ///  - Generation interrupt on flag ICC60F is disabled
                   324   ; ccu63.c   216 
                   325   ; ccu63.c   217   CCU63_CC60SR   =  0x070C;      // Load CCU63 capture/compare shadow 
                   326           ?LINE   217
002C E6FC0C07      327           MOV     R12,#070Ch
0030 F6FCA0EB      328           MOV     0EBA0h,R12
                   329   ; ccu63.c   218                                  // register for channel 0
                   330   ; ccu63.c   219 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   7
ccu63

 LOC CODE        LINE   SOURCELINE

                   331   ; ccu63.c   220   ///  -----------------------------------------------------------------------
                   332   ; ccu63.c   221   ///  Configuration of CCU63 Channel 1:
                   333   ; ccu63.c   222   ///  -----------------------------------------------------------------------
                   334   ; ccu63.c   223   ///  - Compare mode 1 is selected
                   335   ; ccu63.c   224   ///  - T12 modulation for output CC61 is enabled
                   336   ; ccu63.c   225   ///  - T13 modulation for output CC61 is disabled
                   337   ; ccu63.c   226   ///  - The trap functionality of the pin CC61 is disabled
                   338   ; ccu63.c   227   ///  - The compare output CC61 drives passive level while CC61ST is '0'
                   339   ; ccu63.c   228   ///  - The passive level of the output CC61 is '0'
                   340   ; ccu63.c   229   ///  - T12 modulation for output COUT61 is enabled
                   341   ; ccu63.c   230   ///  - T13 modulation for output COUT61 is disabled
                   342   ; ccu63.c   231   ///  - The trap functionality of the pin COUT61 is disabled
                   343   ; ccu63.c   232   ///  - The compare output COUT61 drives passive level while CC61ST is '1'
                   344   ; ccu63.c   233   ///  - The passive level of the output COUT61 is '0'
                   345   ; ccu63.c   234   ///  - Dead time generation is enabled
                   346   ; ccu63.c   235 
                   347   ; ccu63.c   236   ///  - Generation interrupt on flag ICC61R is disabled
                   348   ; ccu63.c   237   ///  - Generation interrupt on flag ICC61F is disabled
                   349   ; ccu63.c   238 
                   350   ; ccu63.c   239   CCU63_CC61SR   =  0x070C;      // Load CCU63 capture/compare shadow 
                   351           ?LINE   239
0034 E6FC0C07      352           MOV     R12,#070Ch
0038 F6FCA2EB      353           MOV     0EBA2h,R12
                   354   ; ccu63.c   240                                  // register for channel 1
                   355   ; ccu63.c   241 
                   356   ; ccu63.c   242   ///  -----------------------------------------------------------------------
                   357   ; ccu63.c   243   ///  Configuration of CCU63 Channel 2:
                   358   ; ccu63.c   244   ///  -----------------------------------------------------------------------
                   359   ; ccu63.c   245   ///  - Compare mode 1 is selected
                   360   ; ccu63.c   246   ///  - T12 modulation for output CC62 is enabled
                   361   ; ccu63.c   247   ///  - T13 modulation for output CC62 is disabled
                   362   ; ccu63.c   248   ///  - The trap functionality of the pin CC62 is disabled
                   363   ; ccu63.c   249   ///  - The compare output CC62 drives passive level while CC62ST is '0'
                   364   ; ccu63.c   250   ///  - The passive level of the output CC62 is '0'
                   365   ; ccu63.c   251   ///  - T12 modulation for output COUT62 is enabled
                   366   ; ccu63.c   252   ///  - T13 modulation for output COUT62 is disabled
                   367   ; ccu63.c   253   ///  - The trap functionality of the pin COUT62 is disabled
                   368   ; ccu63.c   254   ///  - The compare output COUT62 drives passive level while CC62ST is '1'
                   369   ; ccu63.c   255   ///  - The passive level of the output COUT62 is '0'
                   370   ; ccu63.c   256   ///  - Dead time generation is enabled
                   371   ; ccu63.c   257 
                   372   ; ccu63.c   258   ///  - Generation interrupt on flag ICC62R is disabled
                   373   ; ccu63.c   259   ///  - Generation interrupt on flag ICC62F is disabled
                   374   ; ccu63.c   260 
                   375   ; ccu63.c   261   CCU63_CC62SR   =  0x070C;      // Load CCU63 capture/compare shadow 
                   376           ?LINE   261
003C E6FC0C07      377           MOV     R12,#070Ch
0040 F6FCA4EB      378           MOV     0EBA4h,R12
                   379   ; ccu63.c   262                                  // register for channel 2
                   380   ; ccu63.c   263 
                   381   ; ccu63.c   264   ///  -----------------------------------------------------------------------
                   382   ; ccu63.c   265   ///  Configuration of CCU63 Channel 3:
                   383   ; ccu63.c   266   ///  -----------------------------------------------------------------------
                   384   ; ccu63.c   267   ///  - T13 output is not inverted
                   385   ; ccu63.c   268 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   8
ccu63

 LOC CODE        LINE   SOURCELINE

                   386   ; ccu63.c   269 
                   387   ; ccu63.c   270   CCU63_CC63SR   =  0x0000;      // load CCU63 capture/compare shadow 
                   388           ?LINE   270
0044 E00C          389           MOV     R12,#00h
0046 F6FCB6EB      390           MOV     0EBB6h,R12
                   391   ; ccu63.c   271                                  // register for channel 3
                   392   ; ccu63.c   272 
                   393   ; ccu63.c   273 
                   394   ; ccu63.c   274   CCU63_T12DTC   =  0x0741;      // load CCU63 dead time control register for 
                   395           ?LINE   274
004A E6FC4107      396           MOV     R12,#0741h
004E F6FC94EB      397           MOV     0EB94h,R12
                   398   ; ccu63.c   275                                  // timer T12
                   399   ; ccu63.c   276 
                   400   ; ccu63.c   277   CCU63_T12MSEL  =  0x0111;      // load CCU63 T12 campture/compare mode 
                   401           ?LINE   277
0052 E6FC1101      402           MOV     R12,#0111h
0056 F6FCC6EB      403           MOV     0EBC6h,R12
                   404   ; ccu63.c   278                                  // select register
                   405   ; ccu63.c   279 
                   406   ; ccu63.c   280   CCU63_CMPSTAT  =  0x2A00;      // load CCU63 compare status register
                   407           ?LINE   280
005A E6FC002A      408           MOV     R12,#02A00h
005E F6FCA8EB      409           MOV     0EBA8h,R12
                   410   ; ccu63.c   281 
                   411   ; ccu63.c   282   CCU63_MODCTR   =  0x003F;      // load CCU63 modulation control register
                   412           ?LINE   282
0062 E6FC3F00      413           MOV     R12,#03Fh
0066 F6FCC0EB      414           MOV     0EBC0h,R12
                   415   ; ccu63.c   283 
                   416   ; ccu63.c   284   ///  -----------------------------------------------------------------------
                   417   ; ccu63.c   285   ///  Configuration of CCU63 trap control:
                   418   ; ccu63.c   286   ///  -----------------------------------------------------------------------
                   419   ; ccu63.c   287   ///  - Trap can only be generated by SW by setting the bit TRPF
                   420   ; ccu63.c   288   ///  - The trap state is left when a zero-match of T12 (while counting up) 
                   421   ; ccu63.c   289   ///    is detected (synchronization to T12)
                   422   ; ccu63.c   290   ///  - Bit TRPF is automatically cleared by HW (according to TRPPEN, TRPM0 
                   423   ; ccu63.c   291   ///    and TRPM1)
                   424   ; ccu63.c   292   ///  - Trap interrupt is disabled
                   425   ; ccu63.c   293 
                   426   ; ccu63.c   294 
                   427   ; ccu63.c   295   ///  -----------------------------------------------------------------------
                   428   ; ccu63.c   296   ///  Configuration of CCU63 interrupt control:
                   429   ; ccu63.c   297   ///  -----------------------------------------------------------------------
                   430   ; ccu63.c   298   ///  - For channel 0 interrupts is node I0 selected
                   431   ; ccu63.c   299   ///  - For channel 1 interrupts is node I0 selected
                   432   ; ccu63.c   300   ///  - For channel 2 interrupts is node I0 selected
                   433   ; ccu63.c   301   ///  - For correct hall event interrupt is node I0 selected
                   434   ; ccu63.c   302   ///  - For error interrupts is node I0 selected
                   435   ; ccu63.c   303   ///  - For T12 interrupts is node I0 selected
                   436   ; ccu63.c   304   ///  - For T13 interrupts is node I0 selected
                   437   ; ccu63.c   305 
                   438   ; ccu63.c   306 
                   439   ; ccu63.c   307   CCU63_INP      =  0x0000;      // Load CCU63 capture/compare interrupt node 
                   440           ?LINE   307
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:   9
ccu63

 LOC CODE        LINE   SOURCELINE

006A E00C          441           MOV     R12,#00h
006C F6FCD6EB      442           MOV     0EBD6h,R12
                   443   ; ccu63.c   308                                  // pointer register
                   444   ; ccu63.c   309 
                   445   ; ccu63.c   310   CCU63_IEN      =  0x00C0;      // Load CCU63 capture/compare interrupt 
                   446           ?LINE   310
0070 E6FCC000      447           MOV     R12,#0C0h
0074 F6FCD8EB      448           MOV     0EBD8h,R12
                   449   ; ccu63.c   311                                  // enable register
                   450   ; ccu63.c   312 
                   451   ; ccu63.c   313 
                   452   ; ccu63.c   314   ///  -----------------------------------------------------------------------
                   453   ; ccu63.c   315   ///  Configuration of the used CCU63 Channel Port Pins:
                   454   ; ccu63.c   316   ///  -----------------------------------------------------------------------
                   455   ; ccu63.c   317   ///  - P9.0 is used for CCU63 output(CC60)
                   456   ; ccu63.c   318   ///  - P9.1 is used for CCU63 output(CC61)
                   457   ; ccu63.c   319   ///  - P9.2 is used for CCU63 output(CC62)
                   458   ; ccu63.c   320   ///  - P9.3 is used for CCU63 output(COUT60)
                   459   ; ccu63.c   321   ///  - P9.4 is used for CCU63 output(COUT61)
                   460   ; ccu63.c   322   ///  - P9.5 is used for CCU63 output(COUT62)
                   461   ; ccu63.c   323 
                   462   ; ccu63.c   324   P9_IOCR00 = 0x0090;    //set direction register
                   463           ?LINE   324
0078 E6FC9000      464           MOV     R12,#090h
007C F6FC20E9      465           MOV     0E920h,R12
                   466   ; ccu63.c   325   P9_IOCR01 = 0x0090;    //set direction register
                   467           ?LINE   325
0080 E6FC9000      468           MOV     R12,#090h
0084 F6FC22E9      469           MOV     0E922h,R12
                   470   ; ccu63.c   326   P9_IOCR02 = 0x0090;    //set direction register
                   471           ?LINE   326
0088 E6FC9000      472           MOV     R12,#090h
008C F6FC24E9      473           MOV     0E924h,R12
                   474   ; ccu63.c   327   P9_IOCR03 = 0x0090;    //set direction register
                   475           ?LINE   327
0090 E6FC9000      476           MOV     R12,#090h
0094 F6FC26E9      477           MOV     0E926h,R12
                   478   ; ccu63.c   328   P9_IOCR04 = 0x0090;    //set direction register
                   479           ?LINE   328
0098 E6FC9000      480           MOV     R12,#090h
009C F6FC28E9      481           MOV     0E928h,R12
                   482   ; ccu63.c   329   P9_IOCR05 = 0x0090;    //set direction register
                   483           ?LINE   329
00A0 E6FC9000      484           MOV     R12,#090h
00A4 F6FC2AE9      485           MOV     0E92Ah,R12
                   486   ; ccu63.c   330 
                   487   ; ccu63.c   331   CCU63_PISELL   =  0x3FEA;      // Load CCU63 Port Input Selection register
                   488           ?LINE   331
00A8 E6FCEA3F      489           MOV     R12,#03FEAh
00AC F6FC84EB      490           MOV     0EB84h,R12
                   491   ; ccu63.c   332 
                   492   ; ccu63.c   333   ///  -----------------------------------------------------------------------
                   493   ; ccu63.c   334   ///  Configuration of the used CCU63 Channels Interrupts:
                   494   ; ccu63.c   335   ///  -----------------------------------------------------------------------
                   495   ; ccu63.c   336   ///  NodeI0 service request node configuration:
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  10
ccu63

 LOC CODE        LINE   SOURCELINE

                   496   ; ccu63.c   337   ///  - NodeI0 interrupt priority level (ILVL) = 12
                   497   ; ccu63.c   338   ///  - NodeI0 interrupt group level (GLVL) = 0
                   498   ; ccu63.c   339   ///  - NodeI0 group priority extension (GPX) = 0
                   499   ; ccu63.c   340 
                   500   ; ccu63.c   341   CCU63_0IC      =  0x0070;     
                   501           ?LINE   341
00B0 E6FC7000      502           MOV     R12,#070h
00B4 F6FC78F1      503           MOV     0F178h,R12
                   504   ; ccu63.c   342 
                   505   ; ccu63.c   343 
                   506   ; ccu63.c   344   ///  -----------------------------------------------------------------------
                   507   ; ccu63.c   345   ///  Configuration of T12, T13 ---- CCU63_TCTR4 Register:
                   508   ; ccu63.c   346   ///  -----------------------------------------------------------------------
                   509   ; ccu63.c   347   ///  - Enable shadow transfer of T12 and T13
                   510   ; ccu63.c   348   ///  - Timer 12 run bit is reset
                   511   ; ccu63.c   349   ///  - Timer 13 run bit is reset
                   512   ; ccu63.c   350   CCU63_TCTR4    =  0x4040;      // load CCU63 timer control register 4
                   513           ?LINE   350
00B8 E6FC4040      514           MOV     R12,#04040h
00BC F6FCA6EB      515           MOV     0EBA6h,R12
                   516   ; ccu63.c   351 
                   517   ; ccu63.c   352 
                   518   ; ccu63.c   353   // USER CODE BEGIN (NodeI3,3)
                   519   ; ccu63.c   354 
                   520   ; ccu63.c   355   // USER CODE END
                   521   ; ccu63.c   356 
                   522   ; ccu63.c   357 } //  End of function CCU63_vInit
                   523           ?LINE   357
00C0 DB00          524           RETS
                   525   _CCU63_vInit    ENDP
               R   526           ?SYMB   '',$,17,357
                   527   ; ccu63.c   358 
                   528   ; ccu63.c   359 
                   529   ; ccu63.c   360 //****************************************************************************
                   530   ; ccu63.c   361 // @Function      void CCU63_viNodeI0(void) 
                   531   ; ccu63.c   362 //
                   532   ; ccu63.c   363 //----------------------------------------------------------------------------
                   533   ; ccu63.c   364 // @Description   This is the interrupt service routine for the CCU63 node 
                   534   ; ccu63.c   365 //                I0. If the content of the corresponding compare timer 
                   535   ; ccu63.c   366 //                (configurable) equals the content of the capture/compare 
                   536   ; ccu63.c   367 //                register or if a capture event occurs at the associated 
                   537   ; ccu63.c   368 //                port pin, the interrupt request flag is set and an 
                   538   ; ccu63.c   369 //                interrupt is triggered (only if enabled).
                   539   ; ccu63.c   370 //                Please note that you have to add application specific code 
                   540   ; ccu63.c   371 //                to this function.
                   541   ; ccu63.c   372 //
                   542   ; ccu63.c   373 //----------------------------------------------------------------------------
                   543   ; ccu63.c   374 // @Returnvalue   None
                   544   ; ccu63.c   375 //
                   545   ; ccu63.c   376 //----------------------------------------------------------------------------
                   546   ; ccu63.c   377 // @Parameters    None
                   547   ; ccu63.c   378 //
                   548   ; ccu63.c   379 //----------------------------------------------------------------------------
                   549   ; ccu63.c   380 // @Date          30.09.2021
                   550   ; ccu63.c   381 //
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  11
ccu63

 LOC CODE        LINE   SOURCELINE

                   551   ; ccu63.c   382 //****************************************************************************
                   552   ; ccu63.c   383 
                   553   ; ccu63.c   384 // USER CODE BEGIN (NodeI0,1)
                   554   ; ccu63.c   385 
                   555   ; ccu63.c   386 // USER CODE END
                   556   ; ccu63.c   387 
                   557   ; ccu63.c   388 _interrupt(CCU63_NodeI0_INT)  void CCU63_viNodeI0(void)
                   558   ; ccu63.c   389 {
               R   559           ?SYMB   'CCU63_viNodeI0',_CCU63_viNodeI0,37,1
                   560           ?SYMB   '',389,8,16
                   561   _CCU63_viNodeI0 PROC TASK CCU63_TASK INTNO CCU63_INUM = 03Ch
                   562           ?LINE   389
                   563           ?SYMB   '',00H,95,0
00C2 F6F00000  R   564           MOV     CCU63_RB,R0
00C6 C6080000  R   565           SCXT    CP,#CCU63_RB
00CA C6871000      566           SCXT    MDC,#010h
00CE EC00          567           PUSH    DPP0
00D0 E6000000  R   568           MOV     DPP0,#PAG ?BASE_DPP0
00D4 CC00          569           NOP
00D6 EC02          570           PUSH    DPP2
00D8 E6020000  R   571           MOV     DPP2,#PAG ?BASE_DPP2
00DC CC00          572           NOP
00DE EC06          573           PUSH    MDH
00E0 EC07          574           PUSH    MDL
00E2 ECEF          575           PUSH    MSW
00E4 EC2E          576           PUSH    MAL
00E6 EC2F          577           PUSH    MAH
00E8 ECEE          578           PUSH    MCW
00EA C6ED0000      579           SCXT    MRW,#00h
00EE EC84          580           PUSH    IDX0
00F0 EC85          581           PUSH    IDX1
00F2 D180          582           EXTR    #01h
00F4 EC00     1    583           PUSH    QX0
00F6 D180          584           EXTR    #01h
00F8 EC01     1    585           PUSH    QX1
00FA D180          586           EXTR    #01h
00FC EC02     1    587           PUSH    QR0
00FE D180          588           EXTR    #01h
0100 EC03     1    589           PUSH    QR1
                   590   ; Locals:
                   591   ; 
                   592   ; Statics:
                   593   ; 
                   594   ; CSEs:
                   595   ; 
                   596   ; ccu63.c   390   // USER CODE BEGIN (NodeI0,2)
                   597   ; ccu63.c   391 
                   598   ; ccu63.c   392   // USER CODE END
                   599   ; ccu63.c   393 
                   600   ; ccu63.c   394   if(CCU63_IS & 0x0040)  // if CCU63_IS_T12OM
                   601           ?LINE   394
0102 F2FCD0EB      602           MOV     R12,0EBD0h
0106 8AFC0260      603           JB      R12.6,_9
010A EA006002  R   604           JMPA+   cc_UC,_7
010E               605   _9:
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  12
ccu63

 LOC CODE        LINE   SOURCELINE

                   606   ; ccu63.c   395   {
                   607   ; ccu63.c   396     // Timer T12 one match detection
                   608   ; ccu63.c   397 
                   609   ; ccu63.c   398     // USER CODE BEGIN (NodeI0,20)
                   610   ; ccu63.c   399                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_0, table[(index 
                         + OFFSET_L1)%ARRAY_SIZE]*(0.0145*frequency+0.2) + (HALF_PERIODVALUE)); // float-Rechnung nicht 
                         ersetzt weil 1.keine Rechenzeitprobleme/ Zeit nicht woanders nötig 2.bei Verwendung von long wü
                         rden durch die Skalierung 2 long-Rechenoperationen und eine float-Rechenoperationen hinzu komme
                         n
                   611           ?LINE   399
010E F2FC0000  R   612           MOV     R12,_index
0112 02FC0000  R   613           ADD     R12,_OFFSET_L1
0116 F2FD0000  R   614           MOV     R13,_ARRAY_SIZE
011A F6FC0EFE      615           MOV     MDL,R12
011E 5BDD          616           DIVU    R13
0120 F2FC0CFE      617           MOV     R12,MDH
0124 5C1C          618           SHL     R12,#01h
0126 D4BC0000  R   619           MOV     R11,[R12+#_table]
012A F04B          620           MOV     R4,R11
012C DA000000  R   621           CALLS   SEG __cif28r,__cif28r
               R   622           ?SYMB   '',$,96,8
0130 F0BA          623           MOV     R11,R10
0132 F2F40000  R   624           MOV     R4,_frequency
0136 DA000000  R   625           CALLS   SEG __cuf28r,__cuf28r
               R   626           ?SYMB   '',$,96,16
013A F0CB          627           MOV     R12,R11
013C F0BA          628           MOV     R11,R10
013E E6F40000  R   629           MOV     R4,#_3
0142 DA000000  R   630           CALLS   SEG __load8n,__load8n
               R   631           ?SYMB   '',$,96,24
0146 DA000000  R   632           CALLS   SEG __mlf8r,__mlf8r
014A F0BA          633           MOV     R11,R10
014C E6F40000  R   634           MOV     R4,#_4
0150 DA000000  R   635           CALLS   SEG __load8n,__load8n
               R   636           ?SYMB   '',$,96,32
0154 DA000000  R   637           CALLS   SEG __adf8r,__adf8r
0158 F0BC          638           MOV     R11,R12
015A DA000000  R   639           CALLS   SEG __mlf8r,__mlf8r
015E F0BA          640           MOV     R11,R10
0160 F2F40000  R   641           MOV     R4,_HALF_PERIODVALUE
0164 DA000000  R   642           CALLS   SEG __cuf28r,__cuf28r
               R   643           ?SYMB   '',$,96,40
0168 DA000000  R   644           CALLS   SEG __adf8r,__adf8r
016C DA000000  R   645           CALLS   SEG __cfu82r,__cfu82r
0170 06F02800      646           ADD     R0,#028h
               R   647           ?SYMB   '',$,96,0
0174 F6F4A0EB      648           MOV     0EBA0h,R4
                   649   ; ccu63.c   400                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_1, table[(index 
                         + OFFSET_L2)%ARRAY_SIZE]*(0.0145*frequency+0.2) + (HALF_PERIODVALUE));
                   650           ?LINE   400
0178 F2FC0000  R   651           MOV     R12,_index
017C 02FC0000  R   652           ADD     R12,_OFFSET_L2
0180 F2FD0000  R   653           MOV     R13,_ARRAY_SIZE
0184 F6FC0EFE      654           MOV     MDL,R12
0188 5BDD          655           DIVU    R13
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  13
ccu63

 LOC CODE        LINE   SOURCELINE

018A F2FC0CFE      656           MOV     R12,MDH
018E 5C1C          657           SHL     R12,#01h
0190 D4BC0000  R   658           MOV     R11,[R12+#_table]
0194 F04B          659           MOV     R4,R11
0196 DA000000  R   660           CALLS   SEG __cif28r,__cif28r
               R   661           ?SYMB   '',$,96,8
019A F0BA          662           MOV     R11,R10
019C F2F40000  R   663           MOV     R4,_frequency
01A0 DA000000  R   664           CALLS   SEG __cuf28r,__cuf28r
               R   665           ?SYMB   '',$,96,16
01A4 F0CB          666           MOV     R12,R11
01A6 F0BA          667           MOV     R11,R10
01A8 E6F40000  R   668           MOV     R4,#_3
01AC DA000000  R   669           CALLS   SEG __load8n,__load8n
               R   670           ?SYMB   '',$,96,24
01B0 DA000000  R   671           CALLS   SEG __mlf8r,__mlf8r
01B4 F0BA          672           MOV     R11,R10
01B6 E6F40000  R   673           MOV     R4,#_4
01BA DA000000  R   674           CALLS   SEG __load8n,__load8n
               R   675           ?SYMB   '',$,96,32
01BE DA000000  R   676           CALLS   SEG __adf8r,__adf8r
01C2 F0BC          677           MOV     R11,R12
01C4 DA000000  R   678           CALLS   SEG __mlf8r,__mlf8r
01C8 F0BA          679           MOV     R11,R10
01CA F2F40000  R   680           MOV     R4,_HALF_PERIODVALUE
01CE DA000000  R   681           CALLS   SEG __cuf28r,__cuf28r
               R   682           ?SYMB   '',$,96,40
01D2 DA000000  R   683           CALLS   SEG __adf8r,__adf8r
01D6 DA000000  R   684           CALLS   SEG __cfu82r,__cfu82r
01DA 06F02800      685           ADD     R0,#028h
               R   686           ?SYMB   '',$,96,0
01DE F6F4A2EB      687           MOV     0EBA2h,R4
                   688   ; ccu63.c   401                 CCU63_vLoadChannelShadowRegister(CCU63_CHANNEL_2, table[(index 
                         + OFFSET_L3)%ARRAY_SIZE]*(0.0145*frequency+0.2) + (HALF_PERIODVALUE));
                   689           ?LINE   401
01E2 F2FC0000  R   690           MOV     R12,_index
01E6 02FC0000  R   691           ADD     R12,_OFFSET_L3
01EA F2FD0000  R   692           MOV     R13,_ARRAY_SIZE
01EE F6FC0EFE      693           MOV     MDL,R12
01F2 5BDD          694           DIVU    R13
01F4 F2FC0CFE      695           MOV     R12,MDH
01F8 5C1C          696           SHL     R12,#01h
01FA D4BC0000  R   697           MOV     R11,[R12+#_table]
01FE F04B          698           MOV     R4,R11
0200 DA000000  R   699           CALLS   SEG __cif28r,__cif28r
               R   700           ?SYMB   '',$,96,8
0204 F0BA          701           MOV     R11,R10
0206 F2F40000  R   702           MOV     R4,_frequency
020A DA000000  R   703           CALLS   SEG __cuf28r,__cuf28r
               R   704           ?SYMB   '',$,96,16
020E F0CB          705           MOV     R12,R11
0210 F0BA          706           MOV     R11,R10
0212 E6F40000  R   707           MOV     R4,#_3
0216 DA000000  R   708           CALLS   SEG __load8n,__load8n
               R   709           ?SYMB   '',$,96,24
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  14
ccu63

 LOC CODE        LINE   SOURCELINE

021A DA000000  R   710           CALLS   SEG __mlf8r,__mlf8r
021E F0BA          711           MOV     R11,R10
0220 E6F40000  R   712           MOV     R4,#_4
0224 DA000000  R   713           CALLS   SEG __load8n,__load8n
               R   714           ?SYMB   '',$,96,32
0228 DA000000  R   715           CALLS   SEG __adf8r,__adf8r
022C F0BC          716           MOV     R11,R12
022E DA000000  R   717           CALLS   SEG __mlf8r,__mlf8r
0232 F0BA          718           MOV     R11,R10
0234 F2F40000  R   719           MOV     R4,_HALF_PERIODVALUE
0238 DA000000  R   720           CALLS   SEG __cuf28r,__cuf28r
               R   721           ?SYMB   '',$,96,40
023C DA000000  R   722           CALLS   SEG __adf8r,__adf8r
0240 DA000000  R   723           CALLS   SEG __cfu82r,__cfu82r
0244 06F02800      724           ADD     R0,#028h
               R   725           ?SYMB   '',$,96,0
0248 F6F4A4EB      726           MOV     0EBA4h,R4
                   727   ; ccu63.c   402                 CCU63_vEnableShadowTransfer(CCU63_TIMER_12);
                   728           ?LINE   402
024C E6FCA6EB      729           MOV     R12,#0EBA6h
0250 A8DC          730           MOV     R13,[R12]
0252 6FFD          731           BSET    R13.6
0254 B8DC          732           MOV     [R12],R13
                   733   ; ccu63.c   403     // USER CODE END
                   734   ; ccu63.c   404 
                   735   ; ccu63.c   405     CCU63_ISR |= 0x0040;  // clear flag CCU63_IS_T12OM
                   736           ?LINE   405
0256 E6FCD4EB      737           MOV     R12,#0EBD4h
025A A8DC          738           MOV     R13,[R12]
025C 6FFD          739           BSET    R13.6
025E B8DC          740           MOV     [R12],R13
                   741   ; ccu63.c   406   }
                   742           ?LINE   406
0260               743   _7:
                   744   ; ccu63.c   407 
                   745   ; ccu63.c   408   if(CCU63_IS & 0x0080)  // if CCU63_IS_T12PM
                   746           ?LINE   408
0260 F2FCD0EB      747           MOV     R12,0EBD0h
0264 9AFC0570      748           JNB     R12.7,_8
                   749   ; ccu63.c   409   {
                   750   ; ccu63.c   410     // Timer T12 period match detection
                   751   ; ccu63.c   411 
                   752   ; ccu63.c   412     // USER CODE BEGIN (NodeI0,19)
                   753   ; ccu63.c   413     // USER CODE END
                   754   ; ccu63.c   414 
                   755   ; ccu63.c   415     CCU63_ISR |= 0x0080;  // clear flag CCU63_IS_T12PM
                   756           ?LINE   415
0268 E6FCD4EB      757           MOV     R12,#0EBD4h
026C A8DC          758           MOV     R13,[R12]
026E 7FFD          759           BSET    R13.7
0270 B8DC          760           MOV     [R12],R13
                   761   ; ccu63.c   416   }
                   762           ?LINE   416
0272               763   _8:
                   764   ; ccu63.c   417 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  15
ccu63

 LOC CODE        LINE   SOURCELINE

                   765   ; ccu63.c   418 
                   766   ; ccu63.c   419 } //  End of function CCU63_viNodeI0
                   767           ?LINE   419
0272 D180          768           EXTR    #01h
0274 FC03     1    769           POP     QR1
0276 D180          770           EXTR    #01h
0278 FC02     1    771           POP     QR0
027A D180          772           EXTR    #01h
027C FC01     1    773           POP     QX1
027E D180          774           EXTR    #01h
0280 FC00     1    775           POP     QX0
0282 FC85          776           POP     IDX1
0284 FC84          777           POP     IDX0
0286 FCED          778           POP     MRW
0288 FCEE          779           POP     MCW
028A FC2F          780           POP     MAH
028C FC2E          781           POP     MAL
028E FCEF          782           POP     MSW
0290 FC07          783           POP     MDL
0292 FC06          784           POP     MDH
0294 FC02          785           POP     DPP2
0296 FC00          786           POP     DPP0
0298 FC87          787           POP     MDC
029A FC08          788           POP     CP
                   789           ?LINE   419
029C FB88          790           RETI
                   791   _CCU63_viNodeI0 ENDP
               R   792           ?SYMB   '',$,17,419
                   793   ; ccu63.c   420 
                   794   ; ccu63.c   421 
                   795   ; ccu63.c   422 
                   796   ; ccu63.c   423 
                   797   ; ccu63.c   424 // USER CODE BEGIN (CCU63_General,10)
                   798   ; ccu63.c   425 
                   799   ; ccu63.c   426 // USER CODE END
                   800   ; ccu63.c   427 
                   801   CCU63_1_PR      ENDS
                   802   
                   803   CCU63_2_CO      SECTION LDAT WORD PUBLIC 'CROM'
0000               804   _4      LABEL   WORD
0000 C93F9999      805           DW      03FC9h,09999h,09999h,0999Ah
0004 99999A99    
0008               806   _3      LABEL   WORD
0008 8D3F2DB2      807           DW      03F8Dh,0B22Dh,0E56h,0419h
000C 560E1904    
                   808   CCU63_2_CO      ENDS
                   809   
                   810   C166_US SECTION LDAT WORD GLBUSRSTACK 'CUSTACK'
0000               811           DS      40
                   812   C166_US ENDS
                   813   
                   814   $FLOAT(ANSI)
                   815           EXTERN  _HALF_PERIODVALUE:WORD
                   816           EXTERN  _frequency:WORD
                   817           EXTERN  _table:WORD
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 30 2021  Time: 14:54:42  Page:  16
ccu63

 LOC CODE        LINE   SOURCELINE

                   818           ?SYMB   '',010H,5,263
                   819           EXTERN  _ARRAY_SIZE:WORD
                   820           EXTERN  _index:WORD
                   821           EXTERN  _OFFSET_L1:WORD
                   822           EXTERN  _OFFSET_L3:WORD
                   823           EXTERN  _OFFSET_L2:WORD
                   824           EXTERN  __cif28r:FAR
                   825           EXTERN  __cuf28r:FAR
                   826           EXTERN  __load8n:FAR
                   827           EXTERN  __mlf8r:FAR
                   828           EXTERN  __adf8r:FAR
                   829           EXTERN  __cfu82r:FAR
                   830   CCU63_RB        REGDEF  R0-R15
                   831           END

total errors: 0, warnings: 0

