TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   1
io

 LOC CODE        LINE   SOURCELINE

                     1   ; TASKING C166/ST10 C compiler v8.7r1 Build 775
                     2   ; options: -e -Id:\programme\tasking\c166 v8.7r1\include -x2 -Bhoeufmknladij -OB
                     3   ;          -OE -zswitch_tabmem_default -zautobitastruct-4 -zautobita-0 -FSC -A1
                     4   ;          -zvolatile_union -O0 -g -newerr -s -i0 -Ms
                     5   $DEBUG
                     6   $NOLOCALS
                     7   $EXTEND2
                     8   $NOMOD166
                     9   $STDNAMES(regsuper10bo.def)
                    10   $EXTMAC
                    11   $CASE
                    12   $NOEXPANDREGBANK
                    13   $MODEL(SMALL)
                    14           NAME    IO_C
                    15           ?SYMB   'io.c',32,80,16
                    16           ?SYMB   '',1,82,0
                    17           ?SYMB   '80166',0,84,0
                    18           ?SYMB   '',0,81,0
                    19           ?SYMB   'void',00H,45,1
                    20           ?SYMB   'char',080000H,45,2
                    21           ?SYMB   'unsigned char',080000H,45,3
                    22           ?SYMB   'short',0100000H,45,4
                    23           ?SYMB   'unsigned short',0100000H,45,5
                    24           ?SYMB   'long',0200000H,45,6
                    25           ?SYMB   'unsigned long',0200000H,45,7
                    26           ?SYMB   'float',0200000H,45,10
                    27           ?SYMB   'double',0400000H,45,11
                    28           ?SYMB   'int',0100000H,45,16
                    29           ?SYMB   'unsigned int',0100000H,45,18
                    30           ?SYMB   'bit',010000H,7,256
                    31           ?SYMB   'io.c',0,29,1
                    32           ?SYMB   '',0,86,1
                    33   ; io.c        1 //****************************************************************************
                    34   ; io.c        2 // @Module        Parallel Ports
                    35   ; io.c        3 // @Filename      IO.C
                    36   ; io.c        4 // @Project       DAvE_config.dav
                    37   ; io.c        5 //----------------------------------------------------------------------------
                    38   ; io.c        6 // @Controller    Infineon XE167F-96F66
                    39   ; io.c        7 //
                    40   ; io.c        8 // @Compiler      Tasking Classic
                    41   ; io.c        9 //
                    42   ; io.c       10 // @Codegenerator 2.2
                    43   ; io.c       11 //
                    44   ; io.c       12 // @Description   This file contains functions that use the IO module.
                    45   ; io.c       13 //
                    46   ; io.c       14 //----------------------------------------------------------------------------
                    47   ; io.c       15 // @Date          22.09.2021 15:47:03
                    48   ; io.c       16 //
                    49   ; io.c       17 //****************************************************************************
                    50   ; io.c       18 
                    51   ; io.c       19 // USER CODE BEGIN (IO_General,1)
                    52   ; io.c       20 
                    53   ; io.c       21 // USER CODE END
                    54   ; io.c       22 
                    55   ; io.c       23 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   2
io

 LOC CODE        LINE   SOURCELINE

                    56   ; io.c       24 
                    57   ; io.c       25 //****************************************************************************
                    58   ; io.c       26 // @Project Includes
                    59   ; io.c       27 //****************************************************************************
                    60   ; io.c       28 
                    61   ; io.c       29 #include "MAIN.H"
                    62           ?SYMB   'MAIN.H',0,29,2
                    63           ?SYMB   '',0,86,2
                    64           ?SYMB   'XE16xREGS.H',0,29,3
                    65           ?SYMB   '',0,86,3
                    66           ?SYMB   '',0,86,2
                    67           ?SYMB   'SCS.H',0,29,3
                    68           ?SYMB   '',0,86,3
                    69           ?SYMB   'T$2',0,14,257
                    70           ?SYMB   'SCS_EXTCLK_F_SYS',0,33,257
                    71           ?SYMB   'SCS_EXTCLK_F_OUT',1,33,257
                    72           ?SYMB   'SCS_EXTCLK_F_PLL',2,33,257
                    73           ?SYMB   'SCS_EXTCLK_F_OSC',3,33,257
                    74           ?SYMB   'SCS_EXTCLK_F_WU',4,33,257
                    75           ?SYMB   'SCS_EXTCLK_F_TCK',5,33,257
                    76           ?SYMB   'SCS_EXTCLK_F_OSC_FL',6,33,257
                    77           ?SYMB   'SCS_EXTCLK_F_RTC',8,33,257
                    78           ?SYMB   '',16,16,0
                    79           ?SYMB   'SCS_EXTCLK_Type',257,13,258
                    80           ?SYMB   '',0,86,2
                    81           ?SYMB   'IO.H',0,29,3
                    82           ?SYMB   '',0,86,3
                    83           ?SYMB   '',0,86,2
                    84           ?SYMB   '',0,86,1
                    85   ; io.c       30 
                    86   ; io.c       31 // USER CODE BEGIN (IO_General,2)
                    87   ; io.c       32 
                    88   ; io.c       33 // USER CODE END
                    89   ; io.c       34 
                    90   ; io.c       35 
                    91   ; io.c       36 //****************************************************************************
                    92   ; io.c       37 // @Macros
                    93   ; io.c       38 //****************************************************************************
                    94   ; io.c       39 
                    95   ; io.c       40 // USER CODE BEGIN (IO_General,3)
                    96   ; io.c       41 
                    97   ; io.c       42 // USER CODE END
                    98   ; io.c       43 
                    99   ; io.c       44 
                   100   ; io.c       45 //****************************************************************************
                   101   ; io.c       46 // @Defines
                   102   ; io.c       47 //****************************************************************************
                   103   ; io.c       48 
                   104   ; io.c       49 // USER CODE BEGIN (IO_General,4)
                   105   ; io.c       50 
                   106   ; io.c       51 // USER CODE END
                   107   ; io.c       52 
                   108   ; io.c       53 
                   109   ; io.c       54 //****************************************************************************
                   110   ; io.c       55 // @Typedefs
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   3
io

 LOC CODE        LINE   SOURCELINE

                   111   ; io.c       56 //****************************************************************************
                   112   ; io.c       57 
                   113   ; io.c       58 // USER CODE BEGIN (IO_General,5)
                   114   ; io.c       59 
                   115   ; io.c       60 // USER CODE END
                   116   ; io.c       61 
                   117   ; io.c       62 
                   118   ; io.c       63 //****************************************************************************
                   119   ; io.c       64 // @Imported Global Variables
                   120   ; io.c       65 //****************************************************************************
                   121   ; io.c       66 
                   122   ; io.c       67 // USER CODE BEGIN (IO_General,6)
                   123   ; io.c       68 
                   124   ; io.c       69 // USER CODE END
                   125   ; io.c       70 
                   126   ; io.c       71 
                   127   ; io.c       72 //****************************************************************************
                   128   ; io.c       73 // @Global Variables
                   129   ; io.c       74 //****************************************************************************
                   130   ; io.c       75 
                   131   ; io.c       76 // USER CODE BEGIN (IO_General,7)
                   132   ; io.c       77 
                   133   ; io.c       78 // USER CODE END
                   134   ; io.c       79 
                   135   ; io.c       80 
                   136   ; io.c       81 //****************************************************************************
                   137   ; io.c       82 // @External Prototypes
                   138   ; io.c       83 //****************************************************************************
                   139   ; io.c       84 
                   140   ; io.c       85 // USER CODE BEGIN (IO_General,8)
                   141   ; io.c       86 
                   142   ; io.c       87 // USER CODE END
                   143   ; io.c       88 
                   144   ; io.c       89 
                   145   ; io.c       90 //****************************************************************************
                   146   ; io.c       91 // @Prototypes Of Local Functions
                   147   ; io.c       92 //****************************************************************************
                   148   ; io.c       93 
                   149   ; io.c       94 // USER CODE BEGIN (IO_General,9)
                   150   ; io.c       95 
                   151   ; io.c       96 // USER CODE END
                   152   ; io.c       97 
                   153   ; io.c       98 
                   154   ; io.c       99 //****************************************************************************
                   155   ; io.c      100 // @Function      void IO_vInit(void) 
                   156   ; io.c      101 //
                   157   ; io.c      102 //----------------------------------------------------------------------------
                   158   ; io.c      103 // @Description   This is the initialization function of the IO function 
                   159   ; io.c      104 //                library. It is assumed that the SFRs used by this library 
                   160   ; io.c      105 //                are in reset state. 
                   161   ; io.c      106 //
                   162   ; io.c      107 //----------------------------------------------------------------------------
                   163   ; io.c      108 // @Returnvalue   None
                   164   ; io.c      109 //
                   165   ; io.c      110 //----------------------------------------------------------------------------
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   4
io

 LOC CODE        LINE   SOURCELINE

                   166   ; io.c      111 // @Parameters    None
                   167   ; io.c      112 //
                   168   ; io.c      113 //----------------------------------------------------------------------------
                   169   ; io.c      114 // @Date          22.09.2021
                   170   ; io.c      115 //
                   171   ; io.c      116 //****************************************************************************
                   172   ; io.c      117 
                   173   ; io.c      118 // USER CODE BEGIN (IO_Function,1)
                   174   ; io.c      119 
                   175   ; io.c      120 // USER CODE END
                   176   ; io.c      121 
                   177   ; io.c      122 void IO_vInit(void)
                   178   ; io.c      123 {
                   179   IO_1_PR SECTION CODE WORD PUBLIC 'CPROGRAM'
                   180           ?LINE   123
                   181           PUBLIC  _IO_vInit
               R   182           ?SYMB   'IO_vInit',_IO_vInit,37,1
                   183           ?SYMB   '',123,8,34
                   184           ?SYMB   'uword',18,13,260
                   185   _IO_vInit       PROC    FAR
                   186           ?SYMB   '',00H,95,0
                   187   ; Locals:
                   188   ; 
                   189   ; Statics:
                   190   ; 
                   191   ; CSEs:
                   192   ; 
                   193   ; io.c      124   // USER CODE BEGIN (IO_Function,2)
                   194   ; io.c      125 
                   195   ; io.c      126   // USER CODE END
                   196   ; io.c      127 
                   197   ; io.c      128 
                   198   ; io.c      129   ///  -----------------------------------------------------------------------
                   199   ; io.c      130   ///  Configuration of Port P0:
                   200   ; io.c      131   ///  -----------------------------------------------------------------------
                   201   ; io.c      132   ///  - no pin of port P0 is used
                   202   ; io.c      133 
                   203   ; io.c      134 
                   204   ; io.c      135   ///  -----------------------------------------------------------------------
                   205   ; io.c      136   ///  Configuration of Port P1:
                   206   ; io.c      137   ///  -----------------------------------------------------------------------
                   207   ; io.c      138   ///  - no pin of port P1 is used
                   208   ; io.c      139 
                   209   ; io.c      140 
                   210   ; io.c      141   ///  -----------------------------------------------------------------------
                   211   ; io.c      142   ///  Configuration of Port P2:
                   212   ; io.c      143   ///  -----------------------------------------------------------------------
                   213   ; io.c      144   ///  - no pin of port P2 is used
                   214   ; io.c      145 
                   215   ; io.c      146 
                   216   ; io.c      147   ///  -----------------------------------------------------------------------
                   217   ; io.c      148   ///  Configuration of Port P3:
                   218   ; io.c      149   ///  -----------------------------------------------------------------------
                   219   ; io.c      150   ///  - no pin of port P3 is used
                   220   ; io.c      151 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   5
io

 LOC CODE        LINE   SOURCELINE

                   221   ; io.c      152 
                   222   ; io.c      153   ///  -----------------------------------------------------------------------
                   223   ; io.c      154   ///  Configuration of Port P4:
                   224   ; io.c      155   ///  -----------------------------------------------------------------------
                   225   ; io.c      156   ///  - no pin of port P4 is used
                   226   ; io.c      157 
                   227   ; io.c      158 
                   228   ; io.c      159   ///  -----------------------------------------------------------------------
                   229   ; io.c      160   ///  Configuration of Port P5:
                   230   ; io.c      161   ///  -----------------------------------------------------------------------
                   231   ; io.c      162   ///  - no pin of port P5 is used
                   232   ; io.c      163   ///  - Port5 Data register P5(Read only)
                   233   ; io.c      164 
                   234   ; io.c      165 
                   235   ; io.c      166   ///  -----------------------------------------------------------------------
                   236   ; io.c      167   ///  Configuration of Port P6:
                   237   ; io.c      168   ///  -----------------------------------------------------------------------
                   238   ; io.c      169   ///  - no pin of port P6 is used
                   239   ; io.c      170 
                   240   ; io.c      171 
                   241   ; io.c      172   ///  -----------------------------------------------------------------------
                   242   ; io.c      173   ///  Configuration of Port P7:
                   243   ; io.c      174   ///  -----------------------------------------------------------------------
                   244   ; io.c      175   ///  - no pin of port P7 is used
                   245   ; io.c      176 
                   246   ; io.c      177 
                   247   ; io.c      178   ///  -----------------------------------------------------------------------
                   248   ; io.c      179   ///  Configuration of Port P8:
                   249   ; io.c      180   ///  -----------------------------------------------------------------------
                   250   ; io.c      181   ///  P8.0 is used as general purpose output
                   251   ; io.c      182   ///  - push/pull output is selected
                   252   ; io.c      183   ///  - the pin status is low level
                   253   ; io.c      184   ///  P8.1 is used as general purpose output
                   254   ; io.c      185   ///  - push/pull output is selected
                   255   ; io.c      186   ///  - the pin status is low level
                   256   ; io.c      187 
                   257   ; io.c      188   ///  P8.0 - P8.3 output driver characteristic: strong driver
                   258   ; io.c      189   ///  P8.4 - P8.6 output driver characteristic: strong driver
                   259   ; io.c      190 
                   260   ; io.c      191   ///  P8.0 - P8.3 output edge characteristic: soft edge mode
                   261   ; io.c      192   ///  P8.4 - P8.6 output edge characteristic: sharp edge mode
                   262   ; io.c      193 
                   263   ; io.c      194   P8_IOCR00      =  0x0080;      // load port control register 0
                   264           ?LINE   194
0000 E6FC8000      265           MOV     R12,#080h
0004 F6FC00E9      266           MOV     0E900h,R12
                   267   ; io.c      195   P8_IOCR01      =  0x0080;      // load port control register 1
                   268           ?LINE   195
0008 E6FC8000      269           MOV     R12,#080h
000C F6FC02E9      270           MOV     0E902h,R12
                   271   ; io.c      196   P8_POCON       =  0x0002;      // load output control register
                   272           ?LINE   196
0010 E02C          273           MOV     R12,#02h
0012 F6FCB0E8      274           MOV     0E8B0h,R12
                   275   ; io.c      197 
TASKING C166/ST10 assembler v8.7r1 Build 306                                Date: Sep 22 2021  Time: 16:00:31  Page:   6
io

 LOC CODE        LINE   SOURCELINE

                   276   ; io.c      198   ///  -----------------------------------------------------------------------
                   277   ; io.c      199   ///  Configuration of Port P9:
                   278   ; io.c      200   ///  -----------------------------------------------------------------------
                   279   ; io.c      201   ///  - no pin of port P9 is used
                   280   ; io.c      202 
                   281   ; io.c      203 
                   282   ; io.c      204   ///  -----------------------------------------------------------------------
                   283   ; io.c      205   ///  Configuration of Port P10:
                   284   ; io.c      206   ///  -----------------------------------------------------------------------
                   285   ; io.c      207   ///  - no pin of port P10 is used
                   286   ; io.c      208 
                   287   ; io.c      209 
                   288   ; io.c      210   ///  -----------------------------------------------------------------------
                   289   ; io.c      211   ///  Configuration of Port P11:
                   290   ; io.c      212   ///  -----------------------------------------------------------------------
                   291   ; io.c      213   ///  - no pin of port P11 is used
                   292   ; io.c      214 
                   293   ; io.c      215 
                   294   ; io.c      216   ///  -----------------------------------------------------------------------
                   295   ; io.c      217   ///  Configuration of Port P15:
                   296   ; io.c      218   ///  -----------------------------------------------------------------------
                   297   ; io.c      219   ///  - no pin of port P15 is used
                   298   ; io.c      220   ///  - Port15 Data register P15(Read only)
                   299   ; io.c      221 
                   300   ; io.c      222 
                   301   ; io.c      223 
                   302   ; io.c      224   // USER CODE BEGIN (IO_Function,3)
                   303   ; io.c      225 
                   304   ; io.c      226   // USER CODE END
                   305   ; io.c      227 
                   306   ; io.c      228 } //  End of function IO_vInit
                   307           ?LINE   228
0016 DB00          308           RETS
                   309   _IO_vInit       ENDP
               R   310           ?SYMB   '',$,17,228
                   311   ; io.c      229 
                   312   ; io.c      230 
                   313   ; io.c      231 
                   314   ; io.c      232 
                   315   ; io.c      233 // USER CODE BEGIN (IO_General,10)
                   316   ; io.c      234 
                   317   ; io.c      235 // USER CODE END
                   318   ; io.c      236 
                   319   IO_1_PR ENDS
                   320   
                   321           REGDEF  R0-R15
                   322           END

total errors: 0, warnings: 0

